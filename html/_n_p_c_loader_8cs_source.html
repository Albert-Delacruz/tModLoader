<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Terraria ModLoader: /home/travis/build/tModLoader/tModLoader/patches/tModLoader/Terraria.ModLoader/NPCLoader.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tModLoaderIcon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Terraria ModLoader
   &#160;<span id="projectnumber">0.11.8.3</span>
   </div>
   <div id="projectbrief">A mod to make and play Terraria mods</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_n_p_c_loader_8cs_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NPCLoader.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_n_p_c_loader_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> Microsoft.Xna.Framework;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> Microsoft.Xna.Framework.Graphics;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.IO;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Linq;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Linq.Expressions;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Reflection;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_terraria.html">Terraria</a>.GameContent.UI;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_terraria.html">Terraria</a>.ID;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_terraria.html">Terraria</a>.Localization;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_terraria.html">Terraria</a>.ModLoader</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;{</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">//todo: further documentation</span></div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html">   19</a></span>&#160;<span class="comment"></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class </span><a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html">NPCLoader</a></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> loaded = <span class="keyword">false</span>;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#affee1a015d6e55f8dd983ab60cb360f5">   22</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">int</span> nextNPC = NPCID.Count;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> readonly IList&lt;ModNPC&gt; npcs = <span class="keyword">new</span> List&lt;ModNPC&gt;();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> readonly IList&lt;GlobalNPC&gt; globalNPCs = <span class="keyword">new</span> List&lt;GlobalNPC&gt;();</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>[] InstancedGlobals = <span class="keyword">new</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>[0];</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> readonly IDictionary&lt;string, int&gt; globalIndexes = <span class="keyword">new</span> Dictionary&lt;string, int&gt;();</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> readonly IDictionary&lt;Type, int&gt; globalIndexesByType = <span class="keyword">new</span> Dictionary&lt;Type, int&gt;();</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> readonly IDictionary&lt;int, int&gt; bannerToItem = <span class="keyword">new</span> Dictionary&lt;int, int&gt;();</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac8258580b2fe062e674e876aa80fd2d3">   29</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">int</span> vanillaSkeletonCount = NPCID.Sets.Skeletons.Count;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae3a994c84a420c9a488e5380f59c24d6">   30</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> readonly <span class="keywordtype">int</span>[] shopToNPC = <span class="keyword">new</span> <span class="keywordtype">int</span>[Main.MaxShopIDs - 1];</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a4d7e5eeea530b3e0ae7b47fb5e414bf8">   34</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> readonly IList&lt;int&gt; blockLoot = <span class="keyword">new</span> List&lt;int&gt;();</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">   36</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">class </span><a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        {</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">   38</a></span>&#160;            <span class="keyword">public</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>[] arr = <span class="keyword">new</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>[0];</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a46347245ebf8275d5a5fa6159f83c1a4">   39</a></span>&#160;            <span class="keyword">public</span> readonly MethodInfo <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a46347245ebf8275d5a5fa6159f83c1a4">method</a>;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#ad821edf97fe057d741076ccf017c7566">   41</a></span>&#160;            <span class="keyword">public</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#ad821edf97fe057d741076ccf017c7566">HookList</a>(MethodInfo method) {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                this.method = method;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a4d8be5388cea8c0fd0e3f482dac7e314">   46</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> List&lt;HookList&gt; hooks = <span class="keyword">new</span> List&lt;HookList&gt;();</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afaced13f55e23c2bd804ebcd8cc9057d">   48</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> AddHook&lt;F&gt;(Expression&lt;Func&lt;GlobalNPC, F&gt;&gt; func) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            var hook = <span class="keyword">new</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a>(<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_loader.html">ModLoader</a>.Method(func));</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            hooks.Add(hook);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">return</span> hook;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4a8ad93d313bdbbb54ab5ca7bdfb25f">   54</a></span>&#160;        <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4a8ad93d313bdbbb54ab5ca7bdfb25f">NPCLoader</a>() {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            shopToNPC[1] = NPCID.Merchant;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            shopToNPC[2] = NPCID.ArmsDealer;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            shopToNPC[3] = NPCID.Dryad;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            shopToNPC[4] = NPCID.Demolitionist;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            shopToNPC[5] = NPCID.Clothier;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            shopToNPC[6] = NPCID.GoblinTinkerer;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            shopToNPC[7] = NPCID.Wizard;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            shopToNPC[8] = NPCID.Mechanic;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            shopToNPC[9] = NPCID.SantaClaus;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            shopToNPC[10] = NPCID.Truffle;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            shopToNPC[11] = NPCID.Steampunker;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            shopToNPC[12] = NPCID.DyeTrader;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            shopToNPC[13] = NPCID.PartyGirl;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            shopToNPC[14] = NPCID.Cyborg;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            shopToNPC[15] = NPCID.Painter;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            shopToNPC[16] = NPCID.WitchDoctor;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            shopToNPC[17] = NPCID.Pirate;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            shopToNPC[18] = NPCID.Stylist;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            shopToNPC[19] = NPCID.TravellingMerchant;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            shopToNPC[20] = NPCID.SkeletonMerchant;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            shopToNPC[21] = NPCID.DD2Bartender;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">int</span> ReserveNPCID() {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_net.html">ModNet</a>.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_net.html#ab8064730e38058a96249fe85619abffa">AllowVanillaClients</a>) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_exception.html">Exception</a>(<span class="stringliteral">&quot;Adding npcs breaks vanilla client compatibility&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordtype">int</span> reserveID = nextNPC;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            nextNPC++;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">return</span> reserveID;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ab7794fd3e56d4e5be2a789542c0ed331">   86</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">int</span> NPCCount =&gt; nextNPC;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e9eae6ec444b4a23e1a809cfea3be94">   93</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html">ModNPC</a> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e9eae6ec444b4a23e1a809cfea3be94">GetNPC</a>(<span class="keywordtype">int</span> type) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">return</span> type &gt;= NPCID.Count &amp;&amp; type &lt; NPCCount ? npcs[type - NPCID.Count] : null;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">//change initial size of Terraria.Player.npcTypeNoAggro and NPCBannerBuff to NPCLoader.NPCCount()</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="comment">//in Terraria.Main.MouseText replace 251 with NPCLoader.NPCCount()</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">//in Terraria.Main.DrawNPCs and Terraria.NPC.NPCLoot remove type too high check</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">//replace a lot of 540 immediates</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">//in Terraria.GameContent.UI.EmoteBubble make CountNPCs internal</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">void</span> ResizeArrays(<span class="keywordtype">bool</span> unloading) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            Array.Resize(ref Main.NPCLoaded, nextNPC);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            Array.Resize(ref Main.townNPCCanSpawn, nextNPC);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            Array.Resize(ref Main.slimeRainNPC, nextNPC);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            Array.Resize(ref Main.npcTexture, nextNPC);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            Array.Resize(ref Main.npcAltTextures, nextNPC);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            Array.Resize(ref Main.npcCatchable, nextNPC);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            Array.Resize(ref Main.npcFrameCount, nextNPC);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            Array.Resize(ref NPC.killCount, nextNPC);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            Array.Resize(ref NPC.npcsFoundForCheckActive, nextNPC);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            Array.Resize(ref Lang._npcNameCache, nextNPC);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            Array.Resize(ref EmoteBubble.CountNPCs, nextNPC);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            Array.Resize(ref WorldGen.TownManager._hasRoom, nextNPC);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            Array.Resize(ref NPCID.Sets.TrailingMode, nextNPC);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            Array.Resize(ref NPCID.Sets.BelongsToInvasionOldOnesArmy, nextNPC);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            Array.Resize(ref NPCID.Sets.TeleportationImmune, nextNPC);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            Array.Resize(ref NPCID.Sets.UsesNewTargetting, nextNPC);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            Array.Resize(ref NPCID.Sets.FighterUsesDD2PortalAppearEffect, nextNPC);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            Array.Resize(ref NPCID.Sets.StatueSpawnedDropRarity, nextNPC);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            Array.Resize(ref NPCID.Sets.NoEarlymodeLootWhenSpawnedFromStatue, nextNPC);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            Array.Resize(ref NPCID.Sets.NeedsExpertScaling, nextNPC);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            Array.Resize(ref NPCID.Sets.ProjectileNPC, nextNPC);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            Array.Resize(ref NPCID.Sets.SavesAndLoads, nextNPC);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            Array.Resize(ref NPCID.Sets.TrailCacheLength, nextNPC);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            Array.Resize(ref NPCID.Sets.MPAllowedEnemies, nextNPC);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            Array.Resize(ref NPCID.Sets.TownCritter, nextNPC);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            Array.Resize(ref NPCID.Sets.HatOffsetY, nextNPC);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            Array.Resize(ref NPCID.Sets.FaceEmote, nextNPC);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            Array.Resize(ref NPCID.Sets.ExtraFramesCount, nextNPC);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            Array.Resize(ref NPCID.Sets.AttackFrameCount, nextNPC);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            Array.Resize(ref NPCID.Sets.DangerDetectRange, nextNPC);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            Array.Resize(ref NPCID.Sets.AttackTime, nextNPC);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            Array.Resize(ref NPCID.Sets.AttackAverageChance, nextNPC);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            Array.Resize(ref NPCID.Sets.AttackType, nextNPC);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            Array.Resize(ref NPCID.Sets.PrettySafe, nextNPC);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            Array.Resize(ref NPCID.Sets.MagicAuraColor, nextNPC);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            Array.Resize(ref NPCID.Sets.BossHeadTextures, nextNPC);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            Array.Resize(ref NPCID.Sets.ExcludedFromDeathTally, nextNPC);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            Array.Resize(ref NPCID.Sets.TechnicallyABoss, nextNPC);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            Array.Resize(ref NPCID.Sets.MustAlwaysDraw, nextNPC);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            Array.Resize(ref NPCID.Sets.ExtraTextureCount, nextNPC);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            Array.Resize(ref NPCID.Sets.NPCFramingGroup, nextNPC);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            Array.Resize(ref NPCID.Sets.TownNPCsFramingGroups, nextNPC);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = NPCID.Count; k &lt; nextNPC; k++) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                Main.NPCLoaded[k] = <span class="keyword">true</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                Main.npcFrameCount[k] = 1;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                Lang._npcNameCache[k] = LocalizedText.Empty;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                NPCID.Sets.TrailingMode[k] = -1;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                NPCID.Sets.StatueSpawnedDropRarity[k] = -1f;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                NPCID.Sets.TrailCacheLength[k] = 10;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                NPCID.Sets.DangerDetectRange[k] = -1;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                NPCID.Sets.AttackTime[k] = -1;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                NPCID.Sets.AttackAverageChance[k] = 1;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                NPCID.Sets.AttackType[k] = -1;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                NPCID.Sets.PrettySafe[k] = -1;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                NPCID.Sets.MagicAuraColor[k] = Color.White;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                NPCID.Sets.BossHeadTextures[k] = -1;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            InstancedGlobals = globalNPCs.Where(g =&gt; g.InstancePerEntity).ToArray();</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; InstancedGlobals.Length; i++) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                InstancedGlobals[i].instanceIndex = i;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">foreach</span> (var hook <span class="keywordflow">in</span> hooks) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                hook.arr = <a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_loader.html">ModLoader</a>.BuildGlobalHook(globalNPCs, hook.method);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keywordflow">if</span> (!unloading) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                loaded = <span class="keyword">true</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">void</span> Unload() {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            loaded = <span class="keyword">false</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            npcs.Clear();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            nextNPC = NPCID.Count;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            globalNPCs.Clear();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            globalIndexes.Clear();</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            globalIndexesByType.Clear();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            bannerToItem.Clear();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">while</span> (NPCID.Sets.Skeletons.Count &gt; vanillaSkeletonCount) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                NPCID.Sets.Skeletons.RemoveAt(NPCID.Sets.Skeletons.Count - 1);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> IsModNPC(NPC npc) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">return</span> npc.type &gt;= NPCID.Count;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aeefc42ffe5863a3e05f23d43ba55c783">  190</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookSetDefaults = AddHook&lt;Action&lt;NPC&gt;&gt;(g =&gt; g.SetDefaults);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">void</span> SetDefaults(NPC npc, <span class="keywordtype">bool</span> createModNPC = <span class="keyword">true</span>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">if</span> (IsModNPC(npc)) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">if</span> (createModNPC) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    npc.modNPC = GetNPC(npc.type).NewInstance(npc);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">else</span> <span class="comment">//the default NPCs created and bound to ModNPCs are initialized before ResizeArrays. They come here during SetupContent.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    Array.Resize(ref npc.buffImmune, <a class="code" href="class_terraria_1_1_mod_loader_1_1_buff_loader.html">BuffLoader</a>.<a class="code" href="class_terraria_1_1_mod_loader_1_1_buff_loader.html#a6abd801b6d315bf07c5a58018acc1019">BuffCount</a>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            npc.globalNPCs = InstancedGlobals.Select(g =&gt; g.NewInstance(npc)).ToArray();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            npc.modNPC?.SetDefaults();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookSetDefaults.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad882275e53a018199f49a721a1f04a3d">SetDefaults</a>(npc);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> GetGlobalNPC(NPC npc, <a class="code" href="class_terraria_1_1_mod_loader_1_1_mod.html">Mod</a> mod, <span class="keywordtype">string</span> name) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordtype">int</span> index;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">return</span> globalIndexes.TryGetValue(mod.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod.html#a8206e4bf920a7562a972dcb7c9e2ef09">Name</a> + <span class="charliteral">&#39;:&#39;</span> + name, out index) ? globalNPCs[index].<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc) : null;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> GetGlobalNPC(NPC npc, Type type) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordtype">int</span> index;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">return</span> globalIndexesByType.TryGetValue(type, out index) ? (index &gt; -1 ? globalNPCs[index].Instance(npc) : null) : null;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6cbb6c9f19c70a215bfe689076872177">  219</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookScaleExpertStats = AddHook&lt;Action&lt;NPC, int, float&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab5786ddd3abbbc08e6fe6987e06afd45">ScaleExpertStats</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ad2ff73bdde7c90ef233017993c111805">  221</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ad2ff73bdde7c90ef233017993c111805">ScaleExpertStats</a>(NPC npc, <span class="keywordtype">int</span> numPlayers, <span class="keywordtype">float</span> bossLifeScale) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            npc.modNPC?.ScaleExpertStats(numPlayers, bossLifeScale);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookScaleExpertStats.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab5786ddd3abbbc08e6fe6987e06afd45">ScaleExpertStats</a>(npc, numPlayers, bossLifeScale);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ad0048075560db675cc9fd146a84db34e">  229</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookResetEffects = AddHook&lt;Action&lt;NPC&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a39ccf9f8d102eee9f274dc291bfb24">ResetEffects</a>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a34f627c957c08c92fd787ff56ba8a24c">  231</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a34f627c957c08c92fd787ff56ba8a24c">ResetEffects</a>(NPC npc) {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            npc.modNPC?.ResetEffects();</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookResetEffects.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a39ccf9f8d102eee9f274dc291bfb24">ResetEffects</a>(npc);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a5075fa0ca2bdcf3208edfbcc6c567a74">  239</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a5075fa0ca2bdcf3208edfbcc6c567a74">NPCAI</a>(NPC npc) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">if</span> (PreAI(npc)) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="keywordtype">int</span> type = npc.type;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordtype">bool</span> useAiType = npc.modNPC != null &amp;&amp; npc.modNPC.aiType &gt; 0;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">if</span> (useAiType) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    npc.type = npc.modNPC.aiType;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                npc.VanillaAI();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span> (useAiType) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    npc.type = type;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                AI(npc);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            PostAI(npc);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8368acae4c65800dcd161f6b36b4bf46">  255</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPreAI = AddHook&lt;Func&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae5493040c8b14b6fcaff767eca894b67">PreAI</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac590c152f83847b632be90a6e6a0cf80">  257</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac590c152f83847b632be90a6e6a0cf80">PreAI</a>(NPC npc) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPreAI.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                result &amp;= g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae5493040c8b14b6fcaff767eca894b67">PreAI</a>(npc);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> (result &amp;&amp; npc.modNPC != null) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">return</span> npc.modNPC.PreAI();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ade90854b215bcaabc99cd8233fd8759e">  268</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookAI = AddHook&lt;Action&lt;NPC&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac1efc5e92490b33dfe9a87a80f9120e8">AI</a>);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2bb9e4d7da1b0a8fa9ba4b67333464b6">  270</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2bb9e4d7da1b0a8fa9ba4b67333464b6">AI</a>(NPC npc) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            npc.modNPC?.AI();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookAI.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac1efc5e92490b33dfe9a87a80f9120e8">AI</a>(npc);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ab4654bed43717eb8d71da73c6b405f37">  278</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPostAI = AddHook&lt;Action&lt;NPC&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a78cc6cfde1d3aae79d01ded8aff5fddd">PostAI</a>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6b7ae6d2797bd01ee39b10da5a92400b">  280</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6b7ae6d2797bd01ee39b10da5a92400b">PostAI</a>(NPC npc) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            npc.modNPC?.PostAI();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPostAI.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a78cc6cfde1d3aae79d01ded8aff5fddd">PostAI</a>(npc);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            }</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3d6763d0294a58197b0404d9af77d6f8">  288</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3d6763d0294a58197b0404d9af77d6f8">SendExtraAI</a>(NPC npc, <a class="code" href="class_binary_writer.html">BinaryWriter</a> writer) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                byte[] data;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keyword">using</span> (MemoryStream stream = <span class="keyword">new</span> MemoryStream()) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    <span class="keyword">using</span> (<a class="code" href="class_binary_writer.html">BinaryWriter</a> modWriter = <span class="keyword">new</span> <a class="code" href="class_binary_writer.html">BinaryWriter</a>(stream)) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        npc.modNPC.SendExtraAI(modWriter);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        modWriter.Flush();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                        data = stream.ToArray();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                writer.Write((byte)data.Length);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">if</span> (data.Length &gt; 0) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    writer.Write(data);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a823504807194b5d4b4a895b5386b45fc">  305</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a823504807194b5d4b4a895b5386b45fc">ReceiveExtraAI</a>(NPC npc, <a class="code" href="class_binary_reader.html">BinaryReader</a> reader) {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                byte[] extraAI = reader.ReadBytes(reader.ReadByte());</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">if</span> (extraAI.Length &gt; 0) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    <span class="keyword">using</span> (MemoryStream stream = <span class="keyword">new</span> MemoryStream(extraAI)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        <span class="keyword">using</span> (<a class="code" href="class_binary_reader.html">BinaryReader</a> modReader = <span class="keyword">new</span> <a class="code" href="class_binary_reader.html">BinaryReader</a>(stream)) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                            npc.modNPC.ReceiveExtraAI(modReader);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ad5b5d66426485f88ae4ebd761b2080f9">  318</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookFindFrame = AddHook&lt;Action&lt;NPC, int&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc7c47edce64235c1ba8d3b2a27aac4d">FindFrame</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85e38f99d20e965819ec24fcfec3862f">  320</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85e38f99d20e965819ec24fcfec3862f">FindFrame</a>(NPC npc, <span class="keywordtype">int</span> frameHeight) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordtype">int</span> type = npc.type;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null &amp;&amp; npc.modNPC.animationType &gt; 0) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                npc.type = npc.modNPC.animationType;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            npc.VanillaFindFrame(frameHeight);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            npc.type = type;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            npc.modNPC?.FindFrame(frameHeight);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookFindFrame.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc7c47edce64235c1ba8d3b2a27aac4d">FindFrame</a>(npc, frameHeight);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a311cf895e501d7f380ed737b91bad216">  334</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookHitEffect = AddHook&lt;Action&lt;NPC, int, double&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc85c885fbec3533348e87c8def9d886">HitEffect</a>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1f87c81d569643d4b88d271ba22f3c5b">  336</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1f87c81d569643d4b88d271ba22f3c5b">HitEffect</a>(NPC npc, <span class="keywordtype">int</span> hitDirection, <span class="keywordtype">double</span> damage) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            npc.VanillaHitEffect(hitDirection, damage);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            npc.modNPC?.HitEffect(hitDirection, damage);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookHitEffect.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc85c885fbec3533348e87c8def9d886">HitEffect</a>(npc, hitDirection, damage);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateUpdateLifeRegen(NPC npc, ref <span class="keywordtype">int</span> damage);</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a0f8cc9fce7a3f38df01c5cd0d5d6c8f5">  346</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookUpdateLifeRegen = AddHook&lt;DelegateUpdateLifeRegen&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6e84a3d90afc82add5f85b9ebe6a7031">UpdateLifeRegen</a>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17d189c9559b3f526baae75042651113">  348</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17d189c9559b3f526baae75042651113">UpdateLifeRegen</a>(NPC npc, ref <span class="keywordtype">int</span> damage) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            npc.modNPC?.UpdateLifeRegen(ref damage);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookUpdateLifeRegen.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6e84a3d90afc82add5f85b9ebe6a7031">UpdateLifeRegen</a>(npc, ref damage);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a9961afe343b09dce58e7ce93d402bb75">  356</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCheckActive = AddHook&lt;Func&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6803569c436f2938d5ac711920e706ec">CheckActive</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a526fc0a42931cb2713fab4d7bf9b11c2">  358</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a526fc0a42931cb2713fab4d7bf9b11c2">CheckActive</a>(NPC npc) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null &amp;&amp; !npc.modNPC.CheckActive()) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCheckActive.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">if</span> (!g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6803569c436f2938d5ac711920e706ec">CheckActive</a>(npc)) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a92ff86c7842a9f79f479a565e25f0d54">  370</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCheckDead = AddHook&lt;Func&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afe194f5179f9af5463ef4bded6ae3a2f">CheckDead</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a48a2a6cd32cfb8e19522bad443d8f1b9">  372</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a48a2a6cd32cfb8e19522bad443d8f1b9">CheckDead</a>(NPC npc) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                result = npc.modNPC.CheckDead();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCheckDead.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                result &amp;= g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afe194f5179f9af5463ef4bded6ae3a2f">CheckDead</a>(npc);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3c73717c498118115e1848356f3f3c29">  386</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookSpecialNPCLoot = AddHook&lt;Func&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af438166b9b820473beb22385ece2588e">SpecialNPCLoot</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2a4763be930564da32bf3a02f098c3fa">  388</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2a4763be930564da32bf3a02f098c3fa">SpecialNPCLoot</a>(NPC npc) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookSpecialNPCLoot.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span> (g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af438166b9b820473beb22385ece2588e">SpecialNPCLoot</a>(npc)) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">return</span> npc.modNPC.SpecialNPCLoot();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa57c2efee24fd3affc2ea919c8ad5605">  400</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPreNPCLoot = AddHook&lt;Func&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9b9e96d5a81e26fd5a3ae304ae251d9d">PreNPCLoot</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae99a0287c3cb6ed7a048b20ef170c48b">  402</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae99a0287c3cb6ed7a048b20ef170c48b">PreNPCLoot</a>(NPC npc) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPreNPCLoot.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                result &amp;= g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9b9e96d5a81e26fd5a3ae304ae251d9d">PreNPCLoot</a>(npc);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span> (result &amp;&amp; npc.modNPC != null) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                result = npc.modNPC.PreNPCLoot();</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                blockLoot.Clear();</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6c5bdb77f3129e6e162002b42fc24616">  420</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookNPCLoot = AddHook&lt;Action&lt;NPC&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae624b063ab6ddbaefdae0d2db8ecc5fa">NPCLoot</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae0666ddae1d36f57746ef9cbe8849944">  422</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae0666ddae1d36f57746ef9cbe8849944">NPCLoot</a>(NPC npc) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            npc.modNPC?.NPCLoot();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookNPCLoot.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae624b063ab6ddbaefdae0d2db8ecc5fa">NPCLoot</a>(npc);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            blockLoot.Clear();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aca5ff44c9f80acf1ac27881aaaae55c5">  431</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aca5ff44c9f80acf1ac27881aaaae55c5">BossLoot</a>(NPC npc, ref <span class="keywordtype">string</span> name, ref <span class="keywordtype">int</span> potionType) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            npc.modNPC?.BossLoot(ref name, ref potionType);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a05417aa6dbb2d0e3a95c1eb7c540e976">  435</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a05417aa6dbb2d0e3a95c1eb7c540e976">BossBag</a>(NPC npc, ref <span class="keywordtype">int</span> bagType) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                bagType = npc.modNPC.bossBag;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaddd61580e93d375c48f29aa598aa0d9">  441</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnCatchNPC = AddHook&lt;Action&lt;NPC, Player, Item&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac9aed15677d38c7ce2700408e634f3e0">OnCatchNPC</a>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae9defbeada46b8d79db4fd4ffdacfd96">  443</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae9defbeada46b8d79db4fd4ffdacfd96">OnCatchNPC</a>(NPC npc, Player player, Item item) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            npc.modNPC?.OnCatchNPC(player, item);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnCatchNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac9aed15677d38c7ce2700408e634f3e0">OnCatchNPC</a>(npc, player, item);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">bool</span> DelegateCanHitPlayer(NPC npc, Player target, ref <span class="keywordtype">int</span> cooldownSlot);</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a53dc5ffac37695e1ad7b18cba18ee858">  452</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanHitPlayer = AddHook&lt;DelegateCanHitPlayer&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a12bf30524cc768e5152513a2af03f129">CanHitPlayer</a>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a63b2cd7eeb45cf94841081141a22290d">  454</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a63b2cd7eeb45cf94841081141a22290d">CanHitPlayer</a>(NPC npc, Player target, ref <span class="keywordtype">int</span> cooldownSlot) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanHitPlayer.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordflow">if</span> (!g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a12bf30524cc768e5152513a2af03f129">CanHitPlayer</a>(npc, target, ref cooldownSlot)) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <span class="keywordflow">return</span> npc.modNPC.CanHitPlayer(target, ref cooldownSlot);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateModifyHitPlayer(NPC npc, Player target, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">bool</span> crit);</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afcc3efe6468c080508788a38a4955df5">  467</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookModifyHitPlayer = AddHook&lt;DelegateModifyHitPlayer&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a92f1db23976a52d729126ade137063fc">ModifyHitPlayer</a>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af66dfb83f743ca52c0f113b250235705">  469</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af66dfb83f743ca52c0f113b250235705">ModifyHitPlayer</a>(NPC npc, Player target, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            npc.modNPC?.ModifyHitPlayer(target, ref damage, ref crit);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookModifyHitPlayer.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a92f1db23976a52d729126ade137063fc">ModifyHitPlayer</a>(npc, target, ref damage, ref crit);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acce5394324315ca117883e7f23d1eb6c">  477</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnHitPlayer = AddHook&lt;Action&lt;NPC, Player, int, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5e30e8f6af971e9821243a3af23c38ca">OnHitPlayer</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ab55085f950db102685cc71455da3de22">  479</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ab55085f950db102685cc71455da3de22">OnHitPlayer</a>(NPC npc, Player target, <span class="keywordtype">int</span> damage, <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            npc.modNPC?.OnHitPlayer(target, damage, crit);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnHitPlayer.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5e30e8f6af971e9821243a3af23c38ca">OnHitPlayer</a>(npc, target, damage, crit);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aeac1485fa557915ddcfc540e3dfb8e60">  487</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanHitNPC = AddHook&lt;Func&lt;NPC, NPC, bool?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a0ebcb43077d038de14443397d26783bc">CanHitNPC</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd53a343c7b7a511a8bef1713f85c252">  489</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span>? <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd53a343c7b7a511a8bef1713f85c252">CanHitNPC</a>(NPC npc, NPC target) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordtype">bool</span>? flag = null;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanHitNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordtype">bool</span>? canHit = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a0ebcb43077d038de14443397d26783bc">CanHitNPC</a>(npc, target);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordtype">bool</span>? canHit = npc.modNPC.CanHitNPC(target);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">return</span> flag;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateModifyHitNPC(NPC npc, NPC target, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit);</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a0aff44ad91e4e880d15a991baf610df7">  513</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookModifyHitNPC = AddHook&lt;DelegateModifyHitNPC&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad461120184789c0980994c03a1b5b832">ModifyHitNPC</a>);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaeebe6e778031de5c1ecf897c494d078">  515</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaeebe6e778031de5c1ecf897c494d078">ModifyHitNPC</a>(NPC npc, NPC target, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            npc.modNPC?.ModifyHitNPC(target, ref damage, ref knockback, ref crit);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookModifyHitNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad461120184789c0980994c03a1b5b832">ModifyHitNPC</a>(npc, target, ref damage, ref knockback, ref crit);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a73fc980ee80f02c798386f8ccc98b2ae">  523</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnHitNPC = AddHook&lt;Action&lt;NPC, NPC, int, float, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afeb07e4fd3c8b037c5526a6fb5c3e18b">OnHitNPC</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7d9aaa94708b419047921ac38d569b2b">  525</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7d9aaa94708b419047921ac38d569b2b">OnHitNPC</a>(NPC npc, NPC target, <span class="keywordtype">int</span> damage, <span class="keywordtype">float</span> knockback, <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            npc.modNPC?.OnHitNPC(target, damage, knockback, crit);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnHitNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afeb07e4fd3c8b037c5526a6fb5c3e18b">OnHitNPC</a>(npc, target, damage, knockback, crit);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a77091498f3619483429d140d2fce40c2">  532</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanBeHitByItem = AddHook&lt;Func&lt;NPC, Player, Item, bool?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8a8948f57d8156ed7b13d760ffda0154">CanBeHitByItem</a>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7ac970581b8d00d001db8bdd1cac4ec0">  534</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span>? <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7ac970581b8d00d001db8bdd1cac4ec0">CanBeHitByItem</a>(NPC npc, Player player, Item item) {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordtype">bool</span>? flag = null;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanBeHitByItem.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordtype">bool</span>? canHit = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8a8948f57d8156ed7b13d760ffda0154">CanBeHitByItem</a>(npc, player, item);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordtype">bool</span>? canHit = npc.modNPC.CanBeHitByItem(player, item);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">return</span> flag;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateModifyHitByItem(NPC npc, Player player, <a class="code" href="namespace_terraria_1_1_mod_loader.html#a6da2ec2c957a412deb3c606b0f710f06a7d74f3b92b19da5e606d737d339a9679">Item</a> item, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit);</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae883437d578a19a0cb6573c06203302e">  558</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookModifyHitByItem = AddHook&lt;DelegateModifyHitByItem&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9410b2762d11538846575e7074584a55">ModifyHitByItem</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa8defb6f044d35bbf75efa3f807d232c">  560</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa8defb6f044d35bbf75efa3f807d232c">ModifyHitByItem</a>(NPC npc, Player player, Item item, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            npc.modNPC?.ModifyHitByItem(player, item, ref damage, ref knockback, ref crit);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookModifyHitByItem.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9410b2762d11538846575e7074584a55">ModifyHitByItem</a>(npc, player, item, ref damage, ref knockback, ref crit);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a708d245f20e8ef78615bf847f0d8c0bc">  568</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnHitByItem = AddHook&lt;Action&lt;NPC, Player, Item, int, float, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a38f9e9fbc4b52eb6328b37928feacda4">OnHitByItem</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a03c95ca55f3ef6203819693f208dc721">  570</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a03c95ca55f3ef6203819693f208dc721">OnHitByItem</a>(NPC npc, Player player, Item item, <span class="keywordtype">int</span> damage, <span class="keywordtype">float</span> knockback, <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            npc.modNPC?.OnHitByItem(player, item, damage, knockback, crit);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnHitByItem.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a38f9e9fbc4b52eb6328b37928feacda4">OnHitByItem</a>(npc, player, item, damage, knockback, crit);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a15db63bbc1f66d2aa59c7c148c4774e8">  578</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanBeHitByProjectile = AddHook&lt;Func&lt;NPC, Projectile, bool?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9483fdc82dc3294e8f50191b1f1f1121">CanBeHitByProjectile</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1c3d7a33153e964db6ca98da6d68e5b7">  580</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span>? <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1c3d7a33153e964db6ca98da6d68e5b7">CanBeHitByProjectile</a>(NPC npc, Projectile projectile) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordtype">bool</span>? flag = null;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanBeHitByProjectile.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordtype">bool</span>? canHit = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9483fdc82dc3294e8f50191b1f1f1121">CanBeHitByProjectile</a>(npc, projectile);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordtype">bool</span>? canHit = npc.modNPC.CanBeHitByProjectile(projectile);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue &amp;&amp; !canHit.Value) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                <span class="keywordflow">if</span> (canHit.HasValue) {</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    flag = canHit.Value;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">return</span> flag;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateModifyHitByProjectile(NPC npc, Projectile projectile, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit, ref <span class="keywordtype">int</span> hitDirection);</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a76668da26c42bfb4b680e9cdf49beb58">  604</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookModifyHitByProjectile = AddHook&lt;DelegateModifyHitByProjectile&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#acbca6d88046e8d7084ebd915eb711c4c">ModifyHitByProjectile</a>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a646cb039f16ae6e15092c696ad7b3578">  606</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a646cb039f16ae6e15092c696ad7b3578">ModifyHitByProjectile</a>(NPC npc, Projectile projectile, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback, ref <span class="keywordtype">bool</span> crit, ref <span class="keywordtype">int</span> hitDirection) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            npc.modNPC?.ModifyHitByProjectile(projectile, ref damage, ref knockback, ref crit, ref hitDirection);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookModifyHitByProjectile.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#acbca6d88046e8d7084ebd915eb711c4c">ModifyHitByProjectile</a>(npc, projectile, ref damage, ref knockback, ref crit, ref hitDirection);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae88f7d0c5e35240b063bc4c1ab15dba2">  614</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnHitByProjectile = AddHook&lt;Action&lt;NPC, Projectile, int, float, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab32180a12dc2d7e08ae41b30e640434e">OnHitByProjectile</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a61c66fdcd67abe99b458d95c76996418">  616</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a61c66fdcd67abe99b458d95c76996418">OnHitByProjectile</a>(NPC npc, Projectile projectile, <span class="keywordtype">int</span> damage, <span class="keywordtype">float</span> knockback, <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            npc.modNPC?.OnHitByProjectile(projectile, damage, knockback, crit);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnHitByProjectile.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab32180a12dc2d7e08ae41b30e640434e">OnHitByProjectile</a>(npc, projectile, damage, knockback, crit);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">bool</span> DelegateStrikeNPC(NPC npc, ref <span class="keywordtype">double</span> damage, <span class="keywordtype">int</span> defense, ref <span class="keywordtype">float</span> knockback, <span class="keywordtype">int</span> hitDirection, ref <span class="keywordtype">bool</span> crit);</div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3ea766b2f10665bfcae82483e118ff25">  625</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookStrikeNPC = AddHook&lt;DelegateStrikeNPC&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5a527b7768ad2c08ebd32acfad192a5f">StrikeNPC</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a99c71c7837f5040214e65c2b406fafb0">  627</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a99c71c7837f5040214e65c2b406fafb0">StrikeNPC</a>(NPC npc, ref <span class="keywordtype">double</span> damage, <span class="keywordtype">int</span> defense, ref <span class="keywordtype">float</span> knockback, <span class="keywordtype">int</span> hitDirection, ref <span class="keywordtype">bool</span> crit) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                flag = npc.modNPC.StrikeNPC(ref damage, defense, ref knockback, hitDirection, ref crit);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookStrikeNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">if</span> (!g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5a527b7768ad2c08ebd32acfad192a5f">StrikeNPC</a>(npc, ref damage, defense, ref knockback, hitDirection, ref crit)) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    flag = <span class="keyword">false</span>;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">return</span> flag;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateBossHeadSlot(NPC npc, ref <span class="keywordtype">int</span> index);</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2b28eda416cac9f46522821cda2a943f">  641</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookBossHeadSlot = AddHook&lt;DelegateBossHeadSlot&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a48c4ea8449da01368c7af1924252e5f6">BossHeadSlot</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa16baedc558a8f7156d20f4cefaf283d">  643</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa16baedc558a8f7156d20f4cefaf283d">BossHeadSlot</a>(NPC npc, ref <span class="keywordtype">int</span> index) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            npc.modNPC?.BossHeadSlot(ref index);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookBossHeadSlot.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a48c4ea8449da01368c7af1924252e5f6">BossHeadSlot</a>(npc, ref index);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateBossHeadRotation(NPC npc, ref <span class="keywordtype">float</span> rotation);</div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8cb7d7051f1496ba0c0de0c68c6a7ab1">  652</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookBossHeadRotation = AddHook&lt;DelegateBossHeadRotation&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a32f03b80183f2f3ed91b04e7ef5d5b90">BossHeadRotation</a>);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa1da2988491c15c050483597e984bd7a">  654</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa1da2988491c15c050483597e984bd7a">BossHeadRotation</a>(NPC npc, ref <span class="keywordtype">float</span> rotation) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            npc.modNPC?.BossHeadRotation(ref rotation);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookBossHeadRotation.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a32f03b80183f2f3ed91b04e7ef5d5b90">BossHeadRotation</a>(npc, ref rotation);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateBossHeadSpriteEffects(NPC npc, ref SpriteEffects spriteEffects);</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af14c5aa284a7ec0f2014c50ccb5467c0">  663</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookBossHeadSpriteEffects = AddHook&lt;DelegateBossHeadSpriteEffects&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa78b6d2dc1f37317d4faefafaf4637d6">BossHeadSpriteEffects</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af39b1056d061ac83ee853534333cd326">  665</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af39b1056d061ac83ee853534333cd326">BossHeadSpriteEffects</a>(NPC npc, ref SpriteEffects spriteEffects) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            npc.modNPC?.BossHeadSpriteEffects(ref spriteEffects);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookBossHeadSpriteEffects.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa78b6d2dc1f37317d4faefafaf4637d6">BossHeadSpriteEffects</a>(npc, ref spriteEffects);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2148526f45cb152f5febf8948540537e">  673</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookGetAlpha = AddHook&lt;Func&lt;NPC, Color, Color?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aba82de7c491099bc5dfb1f2cc07d53f1">GetAlpha</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ebe0017ce5f3a56d716da86b0caa0d9">  675</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> Color? <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ebe0017ce5f3a56d716da86b0caa0d9">GetAlpha</a>(NPC npc, Color lightColor) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookGetAlpha.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                Color? color = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aba82de7c491099bc5dfb1f2cc07d53f1">GetAlpha</a>(npc, lightColor);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                <span class="keywordflow">if</span> (color.HasValue) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    <span class="keywordflow">return</span> color.Value;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">return</span> npc.modNPC?.GetAlpha(lightColor);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateDrawEffects(NPC npc, ref Color drawColor);</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a98978fd4fb410f56198db142c41d7098">  686</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookDrawEffects = AddHook&lt;DelegateDrawEffects&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ace0105b7dd87ff07bd2af18fe0e9ac18">DrawEffects</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a77de68f9e0a9fad85ae584dea1dea0db">  688</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a77de68f9e0a9fad85ae584dea1dea0db">DrawEffects</a>(NPC npc, ref Color drawColor) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            npc.modNPC?.DrawEffects(ref drawColor);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookDrawEffects.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ace0105b7dd87ff07bd2af18fe0e9ac18">DrawEffects</a>(npc, ref drawColor);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2cae6822753aac1b7abb6658ed62f99c">  696</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPreDraw = AddHook&lt;Func&lt;NPC, SpriteBatch, Color, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a618307b1f63fbfbfb1c5d7f6978837ac">PreDraw</a>);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac23839bed570c9ef30bd52dccf97508a">  698</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac23839bed570c9ef30bd52dccf97508a">PreDraw</a>(NPC npc, SpriteBatch spriteBatch, Color drawColor) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPreDraw.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                result &amp;= g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a618307b1f63fbfbfb1c5d7f6978837ac">PreDraw</a>(npc, spriteBatch, drawColor);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">if</span> (result &amp;&amp; npc.modNPC != null) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                <span class="keywordflow">return</span> npc.modNPC.PreDraw(spriteBatch, drawColor);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afd6957654dac9e6caac1a805cd9bbdc9">  709</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPostDraw = AddHook&lt;Action&lt;NPC, SpriteBatch, Color&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9e6919d7ab9acba00012daa148953854">PostDraw</a>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a67b6bc69eb9a057ee9d4bf910cd26aa1">  711</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a67b6bc69eb9a057ee9d4bf910cd26aa1">PostDraw</a>(NPC npc, SpriteBatch spriteBatch, Color drawColor) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            npc.modNPC?.PostDraw(spriteBatch, drawColor);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPostDraw.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9e6919d7ab9acba00012daa148953854">PostDraw</a>(npc, spriteBatch, drawColor);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a56bec8c74f47fba414891a45b6e31b56">  719</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookDrawBehind = AddHook&lt;Action&lt;NPC, int&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a2e93b458e93b6de51dedfa5423ccf54d">DrawBehind</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">void</span> DrawBehind(NPC npc, <span class="keywordtype">int</span> index)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            npc.modNPC?.DrawBehind(index);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookDrawBehind.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a2e93b458e93b6de51dedfa5423ccf54d">DrawBehind</a>(npc, index);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">bool</span>? DelegateDrawHealthBar(NPC npc, byte bhPosition, ref <span class="keywordtype">float</span> scale, ref Vector2 position);</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae75568b559ec0be5138206afb811414c">  731</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookDrawHealthBar = AddHook&lt;DelegateDrawHealthBar&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#adc16e7b8d69586c145c4aedcb1fd4793">DrawHealthBar</a>);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4afa26b4eff5da6e0bfa5ba3498c46a">  733</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4afa26b4eff5da6e0bfa5ba3498c46a">DrawHealthBar</a>(NPC npc, ref <span class="keywordtype">float</span> scale) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            Vector2 position = <span class="keyword">new</span> Vector2(npc.position.X + npc.width / 2, npc.position.Y + npc.gfxOffY);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">if</span> (Main.HealthBarDrawSettings == 1) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                position.Y += npc.height + 10f + Main.NPCAddHeight(npc.whoAmI);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            }</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Main.HealthBarDrawSettings == 2) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                position.Y -= 24f + Main.NPCAddHeight(npc.whoAmI) / 2f;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookDrawHealthBar.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <span class="keywordtype">bool</span>? result = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#adc16e7b8d69586c145c4aedcb1fd4793">DrawHealthBar</a>(npc, Main.HealthBarDrawSettings, ref scale, ref position);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordflow">if</span> (result.HasValue) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                    <span class="keywordflow">if</span> (result.Value) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                        DrawHealthBar(npc, position, scale);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html">NPCLoader</a>.IsModNPC(npc)) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keywordtype">bool</span>? result = npc.modNPC.DrawHealthBar(Main.HealthBarDrawSettings, ref scale, ref position);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <span class="keywordflow">if</span> (result.HasValue) {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    <span class="keywordflow">if</span> (result.Value) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        DrawHealthBar(npc, position, scale);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                    }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a01c50764c4fa018c26aa42cefa52fdf7">  762</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a01c50764c4fa018c26aa42cefa52fdf7">DrawHealthBar</a>(NPC npc, Vector2 position, <span class="keywordtype">float</span> scale) {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordtype">float</span> alpha = Lighting.Brightness((<span class="keywordtype">int</span>)(npc.Center.X / 16f), (<span class="keywordtype">int</span>)(npc.Center.Y / 16f));</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            Main.instance.DrawHealthBar(position.X, position.Y, npc.life, npc.lifeMax, alpha, scale);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateEditSpawnRate(Player player, ref <span class="keywordtype">int</span> spawnRate, ref <span class="keywordtype">int</span> maxSpawns);</div><div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a51feed278ca6b79d27a4dc48b1a1e1e7">  768</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookEditSpawnRate = AddHook&lt;DelegateEditSpawnRate&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a63bf497418d5bbb5592355a2f44f31a5">EditSpawnRate</a>);</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa3c1075b462bc4c9bccb800492ad1c18">  770</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa3c1075b462bc4c9bccb800492ad1c18">EditSpawnRate</a>(Player player, ref <span class="keywordtype">int</span> spawnRate, ref <span class="keywordtype">int</span> maxSpawns) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookEditSpawnRate.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a63bf497418d5bbb5592355a2f44f31a5">EditSpawnRate</a>(player, ref spawnRate, ref maxSpawns);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateEditSpawnRange(Player player, ref <span class="keywordtype">int</span> spawnRangeX, ref <span class="keywordtype">int</span> spawnRangeY,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            ref <span class="keywordtype">int</span> safeRangeX, ref <span class="keywordtype">int</span> safeRangeY);</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa0ca56fb4860ccf4876f739569292354">  778</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookEditSpawnRange = AddHook&lt;DelegateEditSpawnRange&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa1d334e4354e574e6660581805280b23">EditSpawnRange</a>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aecd6e6cc37c287e1d477db243364b0b9">  780</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aecd6e6cc37c287e1d477db243364b0b9">EditSpawnRange</a>(Player player, ref <span class="keywordtype">int</span> spawnRangeX, ref <span class="keywordtype">int</span> spawnRangeY,</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            ref <span class="keywordtype">int</span> safeRangeX, ref <span class="keywordtype">int</span> safeRangeY) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookEditSpawnRange.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa1d334e4354e574e6660581805280b23">EditSpawnRange</a>(player, ref spawnRangeX, ref spawnRangeY, ref safeRangeX, ref safeRangeY);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3fb460d9262f49ec690ca7edeaa079e9">  787</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookEditSpawnPool = AddHook&lt;Action&lt;Dictionary&lt;int, float&gt;, <a class="code" href="struct_terraria_1_1_mod_loader_1_1_n_p_c_spawn_info.html">NPCSpawnInfo</a>&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af1732616b382d9e346a26763475188b0">EditSpawnPool</a>);</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaa7043a82d3c1939e83ac03b1e0b9624">  789</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">int</span>? <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaa7043a82d3c1939e83ac03b1e0b9624">ChooseSpawn</a>(<a class="code" href="struct_terraria_1_1_mod_loader_1_1_n_p_c_spawn_info.html">NPCSpawnInfo</a> spawnInfo) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_spawn_helper.html">NPCSpawnHelper</a>.Reset();</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_spawn_helper.html">NPCSpawnHelper</a>.DoChecks(spawnInfo);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            IDictionary&lt;int, float&gt; pool = <span class="keyword">new</span> Dictionary&lt;int, float&gt;();</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            pool[0] = 1f;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html">ModNPC</a> npc <span class="keywordflow">in</span> npcs) {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                <span class="keywordtype">float</span> weight = npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#ae7713bbbd313012944b958e8eafc35e0">SpawnChance</a>(spawnInfo);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                <span class="keywordflow">if</span> (weight &gt; 0f) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                    pool[npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.type] = weight;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookEditSpawnPool.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af1732616b382d9e346a26763475188b0">EditSpawnPool</a>(pool, spawnInfo);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="keywordtype">float</span> totalWeight = 0f;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">int</span> type <span class="keywordflow">in</span> pool.Keys) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <span class="keywordflow">if</span> (pool[type] &lt; 0f) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                    pool[type] = 0f;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                totalWeight += pool[type];</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keywordtype">float</span> choice = (float)Main.rand.NextDouble() * totalWeight;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">int</span> type <span class="keywordflow">in</span> pool.Keys) {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <span class="keywordtype">float</span> weight = pool[type];</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">if</span> (choice &lt; weight) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <span class="keywordflow">return</span> type;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                choice -= weight;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3456e262398521b7d781ea8e6c81712c">  821</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookSpawnNPC = AddHook&lt;Action&lt;int, int, int&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8688307b3c52dfbb5ffd3511502a4eba">SpawnNPC</a>);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a0ca2884d941cf304db0d6a9d27ca3328">  823</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a0ca2884d941cf304db0d6a9d27ca3328">SpawnNPC</a>(<span class="keywordtype">int</span> type, <span class="keywordtype">int</span> tileX, <span class="keywordtype">int</span> tileY) {</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            var npc = type &gt;= NPCID.Count ?</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                GetNPC(type).<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#ac460c107f521d532eb9b7612fc9afd20">SpawnNPC</a>(tileX, tileY) :</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                NPC.NewNPC(tileX * 16 + 8, tileY * 16, type);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookSpawnNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(Main.npc[npc]).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8688307b3c52dfbb5ffd3511502a4eba">SpawnNPC</a>(npc, tileX, tileY);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">return</span> npc;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afccd6571f8464fa3b710b16fa7302f24">  835</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afccd6571f8464fa3b710b16fa7302f24">CanTownNPCSpawn</a>(<span class="keywordtype">int</span> numTownNPCs, <span class="keywordtype">int</span> money) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html">ModNPC</a> npc <span class="keywordflow">in</span> npcs) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                <span class="keywordflow">if</span> (npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.townNPC &amp;&amp; NPC.TypeToHeadIndex(npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.type) &gt;= 0 &amp;&amp; !NPC.AnyNPCs(npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.type) &amp;&amp;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a78b4fdd2fb59c1812e03568478be3757">CanTownNPCSpawn</a>(numTownNPCs, money)) {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    Main.townNPCCanSpawn[npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.type] = <span class="keyword">true</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <span class="keywordflow">if</span> (WorldGen.prioritizedTownNPC == 0) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        WorldGen.prioritizedTownNPC = npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">npc</a>.type;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a07f0bdc4b1c6a49da42819a9ac9e94b3">  847</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a07f0bdc4b1c6a49da42819a9ac9e94b3">CheckConditions</a>(<span class="keywordtype">int</span> type) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">return</span> GetNPC(type)?.CheckConditions(WorldGen.roomX1, WorldGen.roomX2, WorldGen.roomY1, WorldGen.roomY2) ?? <span class="keyword">true</span>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1622b410cb65da245e1d090d00615398">  851</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1622b410cb65da245e1d090d00615398">TownNPCName</a>(<span class="keywordtype">int</span> type) {</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <span class="keywordflow">return</span> GetNPC(type)?.TownNPCName() ?? <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1e584c360c5e0b2f5e253ccc1ecf7b1">  855</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1e584c360c5e0b2f5e253ccc1ecf7b1">UsesPartyHat</a>(NPC npc) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="keywordflow">return</span> npc.modNPC?.UsesPartyHat() ?? <span class="keyword">true</span>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6d4fd21de7fa12fb8dbcbde683df9d96">  859</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanChat = AddHook&lt;Func&lt;NPC, bool?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ab62965158004871158bb8b43e73eb8">CanChat</a>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a207ea65f54c5246a125c069aabfaa231">  861</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a207ea65f54c5246a125c069aabfaa231">CanChat</a>(NPC npc, <span class="keywordtype">bool</span> vanillaCanChat) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordtype">bool</span> defaultCanChat = npc.modNPC?.CanChat() ?? vanillaCanChat;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanChat.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordtype">bool</span>? canChat = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ab62965158004871158bb8b43e73eb8">CanChat</a>(npc);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                <span class="keywordflow">if</span> (canChat.HasValue) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                    <span class="keywordflow">if</span> (!canChat.Value) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                    }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    defaultCanChat = <span class="keyword">true</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keywordflow">return</span> defaultCanChat;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateGetChat(NPC npc, ref <span class="keywordtype">string</span> chat);</div><div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a5e70b36ea7d89bda2c13027a8d4182c4">  878</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookGetChat = AddHook&lt;DelegateGetChat&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6c91f67acd9fa2ca3438c641da5e0875">GetChat</a>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17a1702387104df6ae41300e4b7bfb7c">  880</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17a1702387104df6ae41300e4b7bfb7c">GetChat</a>(NPC npc, ref <span class="keywordtype">string</span> chat) {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                chat = npc.modNPC.GetChat();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chat.Equals(<span class="stringliteral">&quot;&quot;</span>)) {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                chat = Language.GetTextValue(<span class="stringliteral">&quot;tModLoader.DefaultTownNPCChat&quot;</span>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookGetChat.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6c91f67acd9fa2ca3438c641da5e0875">GetChat</a>(npc, ref chat);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8bfbaa607fa818ac9813a0d6a9103f49">  892</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8bfbaa607fa818ac9813a0d6a9103f49">SetChatButtons</a>(ref <span class="keywordtype">string</span> button, ref <span class="keywordtype">string</span> button2) {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordflow">if</span> (Main.player[Main.myPlayer].talkNPC &gt;= 0) {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                NPC npc = Main.npc[Main.player[Main.myPlayer].talkNPC];</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                npc.modNPC?.SetChatButtons(ref button, ref button2);</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            }</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a82782305acc6674b30b2fed965467da9">  899</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookPreChatButtonClicked = AddHook&lt;Func&lt;NPC, bool, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa291c000b1ac7614a7bec28e14d372f5">PreChatButtonClicked</a>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85673c0f0676fa158826ed94ebcce7e7">  901</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85673c0f0676fa158826ed94ebcce7e7">PreChatButtonClicked</a>(<span class="keywordtype">bool</span> firstButton) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            NPC npc = Main.npc[Main.LocalPlayer.talkNPC];</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookPreChatButtonClicked.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                result &amp;= g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa291c000b1ac7614a7bec28e14d372f5">PreChatButtonClicked</a>(npc, firstButton);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                Main.PlaySound(SoundID.MenuTick);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateOnChatButtonClicked(NPC npc, <span class="keywordtype">bool</span> firstButton);</div><div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac2d6ca6980e34b2abe80c3c5e3e75b8b">  918</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnChatButtonClicked = AddHook&lt;DelegateOnChatButtonClicked&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a9dc1f2fadc19db07e55dcb2f061aad">OnChatButtonClicked</a>);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a866e9f26ad79ed221f9278ca65b39f9e">  920</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a866e9f26ad79ed221f9278ca65b39f9e">OnChatButtonClicked</a>(<span class="keywordtype">bool</span> firstButton) {</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            NPC npc = Main.npc[Main.LocalPlayer.talkNPC];</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordtype">bool</span> shop = <span class="keyword">false</span>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span> (npc.modNPC != null) {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                npc.modNPC.OnChatButtonClicked(firstButton, ref shop);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                Main.PlaySound(SoundID.MenuTick);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">if</span> (shop) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    Main.playerInventory = <span class="keyword">true</span>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    Main.npcChatText = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                    Main.npcShop = Main.MaxShopIDs - 1;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    Main.instance.shop[Main.npcShop].SetupShop(npc.type);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnChatButtonClicked.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a9dc1f2fadc19db07e55dcb2f061aad">OnChatButtonClicked</a>(npc, firstButton);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            }</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateSetupShop(<span class="keywordtype">int</span> type, Chest shop, ref <span class="keywordtype">int</span> nextSlot);</div><div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a240b2e8a6539b603a4bee5d945e5c721">  940</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookSetupShop = AddHook&lt;DelegateSetupShop&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5fd0754440bfc039de5425b200c202a1">SetupShop</a>);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ade37903ce666240ad83dbd7c8924abe2">  942</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ade37903ce666240ad83dbd7c8924abe2">SetupShop</a>(<span class="keywordtype">int</span> type, Chest shop, ref <span class="keywordtype">int</span> nextSlot) {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">if</span> (type &lt; shopToNPC.Length) {</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                type = shopToNPC[type];</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                GetNPC(type)?.SetupShop(shop, ref nextSlot);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookSetupShop.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5fd0754440bfc039de5425b200c202a1">SetupShop</a>(type, shop, ref nextSlot);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateSetupTravelShop(<span class="keywordtype">int</span>[] shop, ref <span class="keywordtype">int</span> nextSlot);</div><div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acef6d2086f906439e7a29d0c399c65f4">  955</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookSetupTravelShop = AddHook&lt;DelegateSetupTravelShop&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5308b71c2f3c6a7bb89235399295ca24">SetupTravelShop</a>);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a565173225e95b50d3da24188af7fb453">  957</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a565173225e95b50d3da24188af7fb453">SetupTravelShop</a>(<span class="keywordtype">int</span>[] shop, ref <span class="keywordtype">int</span> nextSlot) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookSetupTravelShop.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5308b71c2f3c6a7bb89235399295ca24">SetupTravelShop</a>(shop, ref nextSlot);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        }</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a92faa89d9a44fce82aaa3406358dbc12">  963</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookCanGoToStatue = AddHook&lt;Func&lt;NPC, bool, bool?&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae8db68fb45a269cce3a91f750d8af2ee">CanGoToStatue</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1d6ca29ab669a88f4c742b39f03b7fe">  965</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1d6ca29ab669a88f4c742b39f03b7fe">CanGoToStatue</a>(NPC npc, <span class="keywordtype">bool</span> toKingStatue, <span class="keywordtype">bool</span> vanillaCanGo) {</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordtype">bool</span> defaultCanGo = npc.modNPC?.CanGoToStatue(toKingStatue) ?? vanillaCanGo;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookCanGoToStatue.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <span class="keywordtype">bool</span>? canGo = g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae8db68fb45a269cce3a91f750d8af2ee">CanGoToStatue</a>(npc, toKingStatue);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                <span class="keywordflow">if</span> (canGo.HasValue) {</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <span class="keywordflow">if</span> (!canGo.Value) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    defaultCanGo = <span class="keyword">true</span>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <span class="keywordflow">return</span> defaultCanGo;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a557845400557dc2a9100b7abb62d24e0">  981</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookOnGoToStatue = AddHook&lt;Action&lt;NPC, bool&gt;&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae178ad8f9523b2f87b63220607a982f8">OnGoToStatue</a>);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af1d1909bbc2db39dc615a845be448b2e">  983</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af1d1909bbc2db39dc615a845be448b2e">OnGoToStatue</a>(NPC npc, <span class="keywordtype">bool</span> toKingStatue) {</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            npc.modNPC?.OnGoToStatue(toKingStatue);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookOnGoToStatue.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae178ad8f9523b2f87b63220607a982f8">OnGoToStatue</a>(npc, toKingStatue);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateBuffTownNPC(ref <span class="keywordtype">float</span> damageMult, ref <span class="keywordtype">int</span> defense);</div><div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7014d02979dede148fb7957b0ba62a51">  992</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookBuffTownNPC = AddHook&lt;DelegateBuffTownNPC&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad6815d7134a83a69d25be338163ad6fb">BuffTownNPC</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae90339e990dbc9b5a350cc4c1550abe6">  994</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae90339e990dbc9b5a350cc4c1550abe6">BuffTownNPC</a>(ref <span class="keywordtype">float</span> damageMult, ref <span class="keywordtype">int</span> defense) {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookBuffTownNPC.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad6815d7134a83a69d25be338163ad6fb">BuffTownNPC</a>(ref damageMult, ref defense);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            }</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="comment">//attack type 0 = throwing</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="comment">//  num405 = type, num406 = damage, knockBack, scaleFactor7 = speed multiplier, num407 = attack delay</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="comment">//  num408 = unknown, maxValue3 = unknown, num409 = gravity correction factor, num411 = random speed offset</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="comment">//attack type 1 = shooting</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">//  num413 = type, num414 = damage, scaleFactor8 = speed multiplier, num415 = attack delay,</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="comment">//  num416 = unknown, maxValue4 = unknown, knockBack2, num417 = gravity correction,</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="comment">//  flag53 = in between shots, num418 = random speed offset</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="comment">//attack type 2 = magic</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="comment">//  num423 = type, num424 = damage, scaleFactor9 = speed multiplier, num425 = attack delay,</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">//  num426 = unknown, maxValue5 = unknown, knockBack3, num427 = gravity correction factor,</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="comment">//  num429 = aura light multiplier, num430 = random speed offset</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="comment">//attack type 3 = swinging</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="comment">//  num439 = unknown, maxValue6 = unknown, num440 = damage, num441 = knockback,</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="comment">//  num442 = item width, num443 = item height</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="comment">//unknowns are associated with ai[1], localAI[1], and localAI[3] when ai[0] is either 0 or 8</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="comment">//check patch files for town NPC attacks</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackStrength(NPC npc, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback);</div><div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2e030064799c79b7a439f1f1f7b116ae"> 1016</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackStrength = AddHook&lt;DelegateTownNPCAttackStrength&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a4d7d2713a9fe21de8069182c7897fde6">TownNPCAttackStrength</a>);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e838a02e4cd1a933273df53c53b76c7"> 1018</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e838a02e4cd1a933273df53c53b76c7">TownNPCAttackStrength</a>(NPC npc, ref <span class="keywordtype">int</span> damage, ref <span class="keywordtype">float</span> knockback) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            npc.modNPC?.TownNPCAttackStrength(ref damage, ref knockback);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackStrength.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a4d7d2713a9fe21de8069182c7897fde6">TownNPCAttackStrength</a>(npc, ref damage, ref knockback);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackCooldown(NPC npc, ref <span class="keywordtype">int</span> cooldown, ref <span class="keywordtype">int</span> randExtraCooldown);</div><div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e9ea733cca87b1977b7cb1317b855ae"> 1027</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackCooldown = AddHook&lt;DelegateTownNPCAttackCooldown&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af76afb7606070f4db75a72fa6b2f4edd">TownNPCAttackCooldown</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa14b8d49a2b2ed8bab10728ff74b54bb"> 1029</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa14b8d49a2b2ed8bab10728ff74b54bb">TownNPCAttackCooldown</a>(NPC npc, ref <span class="keywordtype">int</span> cooldown, ref <span class="keywordtype">int</span> randExtraCooldown) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            npc.modNPC?.TownNPCAttackCooldown(ref cooldown, ref randExtraCooldown);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackCooldown.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af76afb7606070f4db75a72fa6b2f4edd">TownNPCAttackCooldown</a>(npc, ref cooldown, ref randExtraCooldown);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        }</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackProj(NPC npc, ref <span class="keywordtype">int</span> projType, ref <span class="keywordtype">int</span> attackDelay);</div><div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aafd7793a616910422aaf10edab758c1c"> 1038</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackProj = AddHook&lt;DelegateTownNPCAttackProj&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afcee386f81c0bd5f45acb274ccb9f17d">TownNPCAttackProj</a>);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a65476052968c8825d53190a18bfd138e"> 1040</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a65476052968c8825d53190a18bfd138e">TownNPCAttackProj</a>(NPC npc, ref <span class="keywordtype">int</span> projType, ref <span class="keywordtype">int</span> attackDelay) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            npc.modNPC?.TownNPCAttackProj(ref projType, ref attackDelay);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackProj.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afcee386f81c0bd5f45acb274ccb9f17d">TownNPCAttackProj</a>(npc, ref projType, ref attackDelay);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackProjSpeed(NPC npc, ref <span class="keywordtype">float</span> multiplier, ref <span class="keywordtype">float</span> gravityCorrection,</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            ref <span class="keywordtype">float</span> randomOffset);</div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa129949a841f0e045dbf485d742bc1b7"> 1050</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackProjSpeed = AddHook&lt;DelegateTownNPCAttackProjSpeed&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a845c65ddf34cc2b4074cc91af4088182">TownNPCAttackProjSpeed</a>);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ae2a74040d28656ddbd8648d8c1a539"> 1052</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ae2a74040d28656ddbd8648d8c1a539">TownNPCAttackProjSpeed</a>(NPC npc, ref <span class="keywordtype">float</span> multiplier, ref <span class="keywordtype">float</span> gravityCorrection,</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            ref <span class="keywordtype">float</span> randomOffset) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            npc.modNPC?.TownNPCAttackProjSpeed(ref multiplier, ref gravityCorrection, ref randomOffset);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackProjSpeed.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a845c65ddf34cc2b4074cc91af4088182">TownNPCAttackProjSpeed</a>(npc, ref multiplier, ref gravityCorrection, ref randomOffset);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackShoot(NPC npc, ref <span class="keywordtype">bool</span> inBetweenShots);</div><div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a13ad251b8b0eef6cfa27d2188f658c75"> 1062</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackShoot = AddHook&lt;DelegateTownNPCAttackShoot&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa0c7388db7dc4d7dd7d920e9cf55ce8a">TownNPCAttackShoot</a>);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7cb36363c8c5a7528c161f6a96770ae3"> 1064</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7cb36363c8c5a7528c161f6a96770ae3">TownNPCAttackShoot</a>(NPC npc, ref <span class="keywordtype">bool</span> inBetweenShots) {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            npc.modNPC?.TownNPCAttackShoot(ref inBetweenShots);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackShoot.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa0c7388db7dc4d7dd7d920e9cf55ce8a">TownNPCAttackShoot</a>(npc, ref inBetweenShots);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        }</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackMagic(NPC npc, ref <span class="keywordtype">float</span> auraLightMultiplier);</div><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#adf8772c45cd18af8a58f7dc996b79628"> 1073</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackMagic = AddHook&lt;DelegateTownNPCAttackMagic&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a068df531f0b46bcf56521532277bce2e">TownNPCAttackMagic</a>);</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6343dfd19abadb436854449c9a67931a"> 1075</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6343dfd19abadb436854449c9a67931a">TownNPCAttackMagic</a>(NPC npc, ref <span class="keywordtype">float</span> auraLightMultiplier) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            npc.modNPC?.TownNPCAttackMagic(ref auraLightMultiplier);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackMagic.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a068df531f0b46bcf56521532277bce2e">TownNPCAttackMagic</a>(npc, ref auraLightMultiplier);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            }</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateTownNPCAttackSwing(NPC npc, ref <span class="keywordtype">int</span> itemWidth, ref <span class="keywordtype">int</span> itemHeight);</div><div class="line"><a name="l01084"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8d04dbed89b274936bc9f078b6d0930d"> 1084</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookTownNPCAttackSwing = AddHook&lt;DelegateTownNPCAttackSwing&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ef4cbdeffb9eed794a04b625d3099da">TownNPCAttackSwing</a>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ac041e26a0d38713786f2efab9404f9"> 1086</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ac041e26a0d38713786f2efab9404f9">TownNPCAttackSwing</a>(NPC npc, ref <span class="keywordtype">int</span> itemWidth, ref <span class="keywordtype">int</span> itemHeight) {</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            npc.modNPC?.TownNPCAttackSwing(ref itemWidth, ref itemHeight);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookTownNPCAttackSwing.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ef4cbdeffb9eed794a04b625d3099da">TownNPCAttackSwing</a>(npc, ref itemWidth, ref itemHeight);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateDrawTownAttackGun(NPC npc, ref <span class="keywordtype">float</span> scale, ref <span class="keywordtype">int</span> item, ref <span class="keywordtype">int</span> closeness);</div><div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a644833014c32f82027bbf29f3d5e2aca"> 1095</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookDrawTownAttackGun = AddHook&lt;DelegateDrawTownAttackGun&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#add58c2912ac317a9df0026b450795544">DrawTownAttackGun</a>);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a27c5e949870baf11ceee684e69e0a304"> 1097</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a27c5e949870baf11ceee684e69e0a304">DrawTownAttackGun</a>(NPC npc, ref <span class="keywordtype">float</span> scale, ref <span class="keywordtype">int</span> item, ref <span class="keywordtype">int</span> closeness) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            npc.modNPC?.DrawTownAttackGun(ref scale, ref item, ref closeness);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookDrawTownAttackGun.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#add58c2912ac317a9df0026b450795544">DrawTownAttackGun</a>(npc, ref scale, ref item, ref closeness);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keyword">private</span> delegate <span class="keywordtype">void</span> DelegateDrawTownAttackSwing(NPC npc, ref Texture2D item, ref <span class="keywordtype">int</span> itemSize, ref <span class="keywordtype">float</span> scale, ref Vector2 offset);</div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6418555b44689bddec73a9981bb487ba"> 1106</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">HookList</a> HookDrawTownAttackSwing = AddHook&lt;DelegateDrawTownAttackSwing&gt;(g =&gt; g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab83733793daf4ce80ae788b666008038">DrawTownAttackSwing</a>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a4d42f1287620918ddde638bd9e30b2e6"> 1108</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a4d42f1287620918ddde638bd9e30b2e6">DrawTownAttackSwing</a>(NPC npc, ref Texture2D item, ref <span class="keywordtype">int</span> itemSize, ref <span class="keywordtype">float</span> scale, ref Vector2 offset) {</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            npc.modNPC?.DrawTownAttackSwing(ref item, ref itemSize, ref scale, ref offset);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> g <span class="keywordflow">in</span> HookDrawTownAttackSwing.<a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">arr</a>) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                g.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Instance</a>(npc).<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab83733793daf4ce80ae788b666008038">DrawTownAttackSwing</a>(npc, ref item, ref itemSize, ref scale, ref offset);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd76455796a9dff78a3f271e6fe435a3"> 1116</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd76455796a9dff78a3f271e6fe435a3">HasMethod</a>(Type t, <span class="keywordtype">string</span> method, params Type[] args) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">return</span> t.GetMethod(method, args).DeclaringType != typeof(<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keyword">internal</span> <span class="keyword">static</span> <span class="keywordtype">void</span> VerifyGlobalNPC(<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a> npc) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            var type = npc.GetType();</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <span class="keywordtype">bool</span> hasInstanceFields = type.GetFields(BindingFlags.Instance | BindingFlags.Public | BindingFlags.NonPublic)</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                .Any(f =&gt; f.DeclaringType != typeof(<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">GlobalNPC</a>));</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">if</span> (hasInstanceFields) {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                <span class="keywordflow">if</span> (!npc.<a class="code" href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7c6ef4102eb089da4f7623a0ffce2647">InstancePerEntity</a>) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_exception.html">Exception</a>(type + <span class="stringliteral">&quot; has instance fields but does not set InstancePerEntity to true. Either use static fields, or per instance globals&quot;</span>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div><div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aca5ff44c9f80acf1ac27881aaaae55c5"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aca5ff44c9f80acf1ac27881aaaae55c5">Terraria.ModLoader.NPCLoader.BossLoot</a></div><div class="ttdeci">static void BossLoot(NPC npc, ref string name, ref int potionType)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00431">NPCLoader.cs:431</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae0666ddae1d36f57746ef9cbe8849944"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae0666ddae1d36f57746ef9cbe8849944">Terraria.ModLoader.NPCLoader.NPCLoot</a></div><div class="ttdeci">static void NPCLoot(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00422">NPCLoader.cs:422</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_af39b1056d061ac83ee853534333cd326"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af39b1056d061ac83ee853534333cd326">Terraria.ModLoader.NPCLoader.BossHeadSpriteEffects</a></div><div class="ttdeci">static void BossHeadSpriteEffects(NPC npc, ref SpriteEffects spriteEffects)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00665">NPCLoader.cs:665</a></div></div>
<div class="ttc" id="class_exception_html"><div class="ttname"><a href="class_exception.html">Exception</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a67b6bc69eb9a057ee9d4bf910cd26aa1"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a67b6bc69eb9a057ee9d4bf910cd26aa1">Terraria.ModLoader.NPCLoader.PostDraw</a></div><div class="ttdeci">static void PostDraw(NPC npc, SpriteBatch spriteBatch, Color drawColor)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00711">NPCLoader.cs:711</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a48a2a6cd32cfb8e19522bad443d8f1b9"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a48a2a6cd32cfb8e19522bad443d8f1b9">Terraria.ModLoader.NPCLoader.CheckDead</a></div><div class="ttdeci">static bool CheckDead(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00372">NPCLoader.cs:372</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a65476052968c8825d53190a18bfd138e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a65476052968c8825d53190a18bfd138e">Terraria.ModLoader.NPCLoader.TownNPCAttackProj</a></div><div class="ttdeci">static void TownNPCAttackProj(NPC npc, ref int projType, ref int attackDelay)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01040">NPCLoader.cs:1040</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a12bf30524cc768e5152513a2af03f129"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a12bf30524cc768e5152513a2af03f129">Terraria.ModLoader.GlobalNPC.CanHitPlayer</a></div><div class="ttdeci">virtual bool CanHitPlayer(NPC npc, Player target, ref int cooldownSlot)</div><div class="ttdoc">Allows you to determine whether an NPC can hit the given player. Return false to block the NPC from h...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00210">GlobalNPC.cs:210</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a5075fa0ca2bdcf3208edfbcc6c567a74"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a5075fa0ca2bdcf3208edfbcc6c567a74">Terraria.ModLoader.NPCLoader.NPCAI</a></div><div class="ttdeci">static void NPCAI(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00239">NPCLoader.cs:239</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a9b9e96d5a81e26fd5a3ae304ae251d9d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9b9e96d5a81e26fd5a3ae304ae251d9d">Terraria.ModLoader.GlobalNPC.PreNPCLoot</a></div><div class="ttdeci">virtual bool PreNPCLoot(NPC npc)</div><div class="ttdoc">Allows you to determine whether or not the NPC will drop anything at all. Return false to stop the NP...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00183">GlobalNPC.cs:183</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a4d42f1287620918ddde638bd9e30b2e6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a4d42f1287620918ddde638bd9e30b2e6">Terraria.ModLoader.NPCLoader.DrawTownAttackSwing</a></div><div class="ttdeci">static void DrawTownAttackSwing(NPC npc, ref Texture2D item, ref int itemSize, ref float scale, ref Vector2 offset)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01108">NPCLoader.cs:1108</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_spawn_helper_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_spawn_helper.html">Terraria.ModLoader.NPCSpawnHelper</a></div><div class="ttdoc">This server as a central class to help modders spawn their npcs. It&amp;#39;s basically the vanilla spawn cod...</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_spawn_helper_8cs_source.html#l00012">NPCSpawnHelper.cs:12</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a2bb9e4d7da1b0a8fa9ba4b67333464b6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2bb9e4d7da1b0a8fa9ba4b67333464b6">Terraria.ModLoader.NPCLoader.AI</a></div><div class="ttdeci">static void AI(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00270">NPCLoader.cs:270</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae90339e990dbc9b5a350cc4c1550abe6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae90339e990dbc9b5a350cc4c1550abe6">Terraria.ModLoader.NPCLoader.BuffTownNPC</a></div><div class="ttdeci">static void BuffTownNPC(ref float damageMult, ref int defense)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00994">NPCLoader.cs:994</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_net_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_net.html">Terraria.ModLoader.ModNet</a></div><div class="ttdef"><b>Definition:</b> <a href="_mod_net_8cs_source.html#l00018">ModNet.cs:18</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_n_p_c_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html">Terraria.ModLoader.ModNPC</a></div><div class="ttdoc">This class serves as a place for you to place all your properties and hooks for each NPC...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_n_p_c_8cs_source.html#l00014">ModNPC.cs:14</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aaa7043a82d3c1939e83ac03b1e0b9624"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaa7043a82d3c1939e83ac03b1e0b9624">Terraria.ModLoader.NPCLoader.ChooseSpawn</a></div><div class="ttdeci">static int ChooseSpawn(NPCSpawnInfo spawnInfo)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00789">NPCLoader.cs:789</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ab32180a12dc2d7e08ae41b30e640434e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab32180a12dc2d7e08ae41b30e640434e">Terraria.ModLoader.GlobalNPC.OnHitByProjectile</a></div><div class="ttdeci">virtual void OnHitByProjectile(NPC npc, Projectile projectile, int damage, float knockback, bool crit)</div><div class="ttdoc">Allows you to create special effects when an NPC is hit by a projectile. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00331">GlobalNPC.cs:331</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_afe194f5179f9af5463ef4bded6ae3a2f"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afe194f5179f9af5463ef4bded6ae3a2f">Terraria.ModLoader.GlobalNPC.CheckDead</a></div><div class="ttdeci">virtual bool CheckDead(NPC npc)</div><div class="ttdoc">Whether or not an NPC should be killed when it reaches 0 health. You may program extra effects in thi...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00166">GlobalNPC.cs:166</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a7cb36363c8c5a7528c161f6a96770ae3"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7cb36363c8c5a7528c161f6a96770ae3">Terraria.ModLoader.NPCLoader.TownNPCAttackShoot</a></div><div class="ttdeci">static void TownNPCAttackShoot(NPC npc, ref bool inBetweenShots)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01064">NPCLoader.cs:1064</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_net_html_ab8064730e38058a96249fe85619abffa"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_net.html#ab8064730e38058a96249fe85619abffa">Terraria.ModLoader.ModNet.AllowVanillaClients</a></div><div class="ttdeci">static bool AllowVanillaClients</div><div class="ttdef"><b>Definition:</b> <a href="_mod_net_8cs_source.html#l00053">ModNet.cs:53</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ab83733793daf4ce80ae788b666008038"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab83733793daf4ce80ae788b666008038">Terraria.ModLoader.GlobalNPC.DrawTownAttackSwing</a></div><div class="ttdeci">virtual void DrawTownAttackSwing(NPC npc, ref Texture2D item, ref int itemSize, ref float scale, ref Vector2 offset)</div><div class="ttdoc">Allows you to customize how a town NPC&amp;#39;s weapon is drawn when the NPC is swinging it (the NPC must ha...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00628">GlobalNPC.cs:628</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ad461120184789c0980994c03a1b5b832"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad461120184789c0980994c03a1b5b832">Terraria.ModLoader.GlobalNPC.ModifyHitNPC</a></div><div class="ttdeci">virtual void ModifyHitNPC(NPC npc, NPC target, ref int damage, ref float knockback, ref bool crit)</div><div class="ttdoc">Allows you to modify the damage, knockback, etc., that an NPC does to a friendly NPC. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00252">GlobalNPC.cs:252</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa1da2988491c15c050483597e984bd7a"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa1da2988491c15c050483597e984bd7a">Terraria.ModLoader.NPCLoader.BossHeadRotation</a></div><div class="ttdeci">static void BossHeadRotation(NPC npc, ref float rotation)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00654">NPCLoader.cs:654</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a03c95ca55f3ef6203819693f208dc721"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a03c95ca55f3ef6203819693f208dc721">Terraria.ModLoader.NPCLoader.OnHitByItem</a></div><div class="ttdeci">static void OnHitByItem(NPC npc, Player player, Item item, int damage, float knockback, bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00570">NPCLoader.cs:570</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa4afa26b4eff5da6e0bfa5ba3498c46a"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4afa26b4eff5da6e0bfa5ba3498c46a">Terraria.ModLoader.NPCLoader.DrawHealthBar</a></div><div class="ttdeci">static bool DrawHealthBar(NPC npc, ref float scale)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00733">NPCLoader.cs:733</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a17d189c9559b3f526baae75042651113"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17d189c9559b3f526baae75042651113">Terraria.ModLoader.NPCLoader.UpdateLifeRegen</a></div><div class="ttdeci">static void UpdateLifeRegen(NPC npc, ref int damage)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00348">NPCLoader.cs:348</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5ab62965158004871158bb8b43e73eb8"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ab62965158004871158bb8b43e73eb8">Terraria.ModLoader.GlobalNPC.CanChat</a></div><div class="ttdeci">virtual bool CanChat(NPC npc)</div><div class="ttdoc">Allows you to determine whether this NPC can talk with the player. Return true to allow talking with ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00474">GlobalNPC.cs:474</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5fd0754440bfc039de5425b200c202a1"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5fd0754440bfc039de5425b200c202a1">Terraria.ModLoader.GlobalNPC.SetupShop</a></div><div class="ttdeci">virtual void SetupShop(int type, Chest shop, ref int nextSlot)</div><div class="ttdoc">Allows you to add items to an NPC&amp;#39;s shop. The type parameter is the type of the NPC that this shop be...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00510">GlobalNPC.cs:510</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_n_p_c_html_ae7713bbbd313012944b958e8eafc35e0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#ae7713bbbd313012944b958e8eafc35e0">Terraria.ModLoader.ModNPC.SpawnChance</a></div><div class="ttdeci">virtual float SpawnChance(NPCSpawnInfo spawnInfo)</div><div class="ttdoc">Whether or not this NPC can spawn with the given spawning conditions. Return the weight for the chanc...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_n_p_c_8cs_source.html#l00556">ModNPC.cs:556</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ac9aed15677d38c7ce2700408e634f3e0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac9aed15677d38c7ce2700408e634f3e0">Terraria.ModLoader.GlobalNPC.OnCatchNPC</a></div><div class="ttdeci">virtual void OnCatchNPC(NPC npc, Player player, Item item)</div><div class="ttdoc">Allows you to make things happen when an NPC is caught. Ran Serverside. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00200">GlobalNPC.cs:200</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a05417aa6dbb2d0e3a95c1eb7c540e976"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a05417aa6dbb2d0e3a95c1eb7c540e976">Terraria.ModLoader.NPCLoader.BossBag</a></div><div class="ttdeci">static void BossBag(NPC npc, ref int bagType)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00435">NPCLoader.cs:435</a></div></div>
<div class="ttc" id="struct_terraria_1_1_mod_loader_1_1_n_p_c_spawn_info_html"><div class="ttname"><a href="struct_terraria_1_1_mod_loader_1_1_n_p_c_spawn_info.html">Terraria.ModLoader.NPCSpawnInfo</a></div><div class="ttdoc">A struct that stores information regarding where an NPC is naturally spawning and the player it is sp...</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_spawn_info_8cs_source.html#l00006">NPCSpawnInfo.cs:6</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ac23839bed570c9ef30bd52dccf97508a"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac23839bed570c9ef30bd52dccf97508a">Terraria.ModLoader.NPCLoader.PreDraw</a></div><div class="ttdeci">static bool PreDraw(NPC npc, SpriteBatch spriteBatch, Color drawColor)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00698">NPCLoader.cs:698</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a4d7d2713a9fe21de8069182c7897fde6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a4d7d2713a9fe21de8069182c7897fde6">Terraria.ModLoader.GlobalNPC.TownNPCAttackStrength</a></div><div class="ttdeci">virtual void TownNPCAttackStrength(NPC npc, ref int damage, ref float knockback)</div><div class="ttdoc">Allows you to determine the damage and knockback of a town NPC&amp;#39;s attack before the damage is scaled...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00553">GlobalNPC.cs:553</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a6b7ae6d2797bd01ee39b10da5a92400b"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6b7ae6d2797bd01ee39b10da5a92400b">Terraria.ModLoader.NPCLoader.PostAI</a></div><div class="ttdeci">static void PostAI(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00280">NPCLoader.cs:280</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a1f87c81d569643d4b88d271ba22f3c5b"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1f87c81d569643d4b88d271ba22f3c5b">Terraria.ModLoader.NPCLoader.HitEffect</a></div><div class="ttdeci">static void HitEffect(NPC npc, int hitDirection, double damage)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00336">NPCLoader.cs:336</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a99c71c7837f5040214e65c2b406fafb0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a99c71c7837f5040214e65c2b406fafb0">Terraria.ModLoader.NPCLoader.StrikeNPC</a></div><div class="ttdeci">static bool StrikeNPC(NPC npc, ref double damage, int defense, ref float knockback, int hitDirection, ref bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00627">NPCLoader.cs:627</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ad2ff73bdde7c90ef233017993c111805"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ad2ff73bdde7c90ef233017993c111805">Terraria.ModLoader.NPCLoader.ScaleExpertStats</a></div><div class="ttdeci">static void ScaleExpertStats(NPC npc, int numPlayers, float bossLifeScale)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00221">NPCLoader.cs:221</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a823504807194b5d4b4a895b5386b45fc"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a823504807194b5d4b4a895b5386b45fc">Terraria.ModLoader.NPCLoader.ReceiveExtraAI</a></div><div class="ttdeci">static void ReceiveExtraAI(NPC npc, BinaryReader reader)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00305">NPCLoader.cs:305</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a8688307b3c52dfbb5ffd3511502a4eba"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8688307b3c52dfbb5ffd3511502a4eba">Terraria.ModLoader.GlobalNPC.SpawnNPC</a></div><div class="ttdeci">virtual void SpawnNPC(int npc, int tileX, int tileY)</div><div class="ttdoc">Allows you to customize an NPC (for example, its position or ai array) after it naturally spawns and ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00466">GlobalNPC.cs:466</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a7a39ccf9f8d102eee9f274dc291bfb24"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a39ccf9f8d102eee9f274dc291bfb24">Terraria.ModLoader.GlobalNPC.ResetEffects</a></div><div class="ttdeci">virtual void ResetEffects(NPC npc)</div><div class="ttdoc">This is where you reset any fields you add to your subclass to their default states. This is necessary in order to reset your fields if they are conditionally set by a tick update but the condition is no longer satisfied. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00101">GlobalNPC.cs:101</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a8ac041e26a0d38713786f2efab9404f9"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ac041e26a0d38713786f2efab9404f9">Terraria.ModLoader.NPCLoader.TownNPCAttackSwing</a></div><div class="ttdeci">static void TownNPCAttackSwing(NPC npc, ref int itemWidth, ref int itemHeight)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01086">NPCLoader.cs:1086</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_aa1d334e4354e574e6660581805280b23"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa1d334e4354e574e6660581805280b23">Terraria.ModLoader.GlobalNPC.EditSpawnRange</a></div><div class="ttdeci">virtual void EditSpawnRange(Player player, ref int spawnRangeX, ref int spawnRangeY, ref int safeRangeX, ref int safeRangeY)</div><div class="ttdoc">Allows you to modify the range at which NPCs can spawn around the given player. The spawnRanges deter...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00448">GlobalNPC.cs:448</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5308b71c2f3c6a7bb89235399295ca24"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5308b71c2f3c6a7bb89235399295ca24">Terraria.ModLoader.GlobalNPC.SetupTravelShop</a></div><div class="ttdeci">virtual void SetupTravelShop(int[] shop, ref int nextSlot)</div><div class="ttdoc">Allows you to add items to the traveling merchant&amp;#39;s shop. Add an item by setting shop[nextSlot] to th...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00518">GlobalNPC.cs:518</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_acd53a343c7b7a511a8bef1713f85c252"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd53a343c7b7a511a8bef1713f85c252">Terraria.ModLoader.NPCLoader.CanHitNPC</a></div><div class="ttdeci">static bool CanHitNPC(NPC npc, NPC target)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00489">NPCLoader.cs:489</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a6c91f67acd9fa2ca3438c641da5e0875"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6c91f67acd9fa2ca3438c641da5e0875">Terraria.ModLoader.GlobalNPC.GetChat</a></div><div class="ttdeci">virtual void GetChat(NPC npc, ref string chat)</div><div class="ttdoc">Allows you to modify the chat message of any NPC that the player can talk to. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00483">GlobalNPC.cs:483</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae9defbeada46b8d79db4fd4ffdacfd96"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae9defbeada46b8d79db4fd4ffdacfd96">Terraria.ModLoader.NPCLoader.OnCatchNPC</a></div><div class="ttdeci">static void OnCatchNPC(NPC npc, Player player, Item item)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00443">NPCLoader.cs:443</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ab5786ddd3abbbc08e6fe6987e06afd45"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ab5786ddd3abbbc08e6fe6987e06afd45">Terraria.ModLoader.GlobalNPC.ScaleExpertStats</a></div><div class="ttdeci">virtual void ScaleExpertStats(NPC npc, int numPlayers, float bossLifeScale)</div><div class="ttdoc">Allows you to customize an NPC&amp;#39;s stats in expert mode. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00094">GlobalNPC.cs:94</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a6e84a3d90afc82add5f85b9ebe6a7031"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6e84a3d90afc82add5f85b9ebe6a7031">Terraria.ModLoader.GlobalNPC.UpdateLifeRegen</a></div><div class="ttdeci">virtual void UpdateLifeRegen(NPC npc, ref int damage)</div><div class="ttdoc">Allows you to make the NPC either regenerate health or take damage over time by setting npc...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00149">GlobalNPC.cs:149</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a32f03b80183f2f3ed91b04e7ef5d5b90"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a32f03b80183f2f3ed91b04e7ef5d5b90">Terraria.ModLoader.GlobalNPC.BossHeadRotation</a></div><div class="ttdeci">virtual void BossHeadRotation(NPC npc, ref float rotation)</div><div class="ttdoc">Allows you to customize the rotation of an NPC&amp;#39;s boss head icon on the map. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00361">GlobalNPC.cs:361</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_loader_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_loader.html">Terraria.ModLoader.ModLoader</a></div><div class="ttdoc">This serves as the central class which loads mods. It contains many static fields and methods related...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_loader_8cs_source.html#l00028">ModLoader.cs:28</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_afeb07e4fd3c8b037c5526a6fb5c3e18b"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afeb07e4fd3c8b037c5526a6fb5c3e18b">Terraria.ModLoader.GlobalNPC.OnHitNPC</a></div><div class="ttdeci">virtual void OnHitNPC(NPC npc, NPC target, int damage, float knockback, bool crit)</div><div class="ttdoc">Allows you to create special effects when an NPC hits a friendly NPC. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00263">GlobalNPC.cs:263</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_acbca6d88046e8d7084ebd915eb711c4c"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#acbca6d88046e8d7084ebd915eb711c4c">Terraria.ModLoader.GlobalNPC.ModifyHitByProjectile</a></div><div class="ttdeci">virtual void ModifyHitByProjectile(NPC npc, Projectile projectile, ref int damage, ref float knockback, ref bool crit, ref int hitDirection)</div><div class="ttdoc">Allows you to modify the damage, knockback, etc., that an NPC takes from a projectile. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00320">GlobalNPC.cs:320</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a7ac970581b8d00d001db8bdd1cac4ec0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7ac970581b8d00d001db8bdd1cac4ec0">Terraria.ModLoader.NPCLoader.CanBeHitByItem</a></div><div class="ttdeci">static bool CanBeHitByItem(NPC npc, Player player, Item item)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00534">NPCLoader.cs:534</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a38f9e9fbc4b52eb6328b37928feacda4"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a38f9e9fbc4b52eb6328b37928feacda4">Terraria.ModLoader.GlobalNPC.OnHitByItem</a></div><div class="ttdeci">virtual void OnHitByItem(NPC npc, Player player, Item item, int damage, float knockback, bool crit)</div><div class="ttdoc">Allows you to create special effects when an NPC is hit by a melee weapon. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00298">GlobalNPC.cs:298</a></div></div>
<div class="ttc" id="class_binary_writer_html"><div class="ttname"><a href="class_binary_writer.html">BinaryWriter</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a7c6ef4102eb089da4f7623a0ffce2647"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7c6ef4102eb089da4f7623a0ffce2647">Terraria.ModLoader.GlobalNPC.InstancePerEntity</a></div><div class="ttdeci">virtual bool InstancePerEntity</div><div class="ttdoc">Whether to create a new GlobalNPC instance for every NPC that exists. Useful for storing information ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00046">GlobalNPC.cs:46</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a646cb039f16ae6e15092c696ad7b3578"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a646cb039f16ae6e15092c696ad7b3578">Terraria.ModLoader.NPCLoader.ModifyHitByProjectile</a></div><div class="ttdeci">static void ModifyHitByProjectile(NPC npc, Projectile projectile, ref int damage, ref float knockback, ref bool crit, ref int hitDirection)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00606">NPCLoader.cs:606</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ac1efc5e92490b33dfe9a87a80f9120e8"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ac1efc5e92490b33dfe9a87a80f9120e8">Terraria.ModLoader.GlobalNPC.AI</a></div><div class="ttdeci">virtual void AI(NPC npc)</div><div class="ttdoc">Allows you to determine how any NPC behaves. This will only be called if PreAI returns true...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00117">GlobalNPC.cs:117</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aaeebe6e778031de5c1ecf897c494d078"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aaeebe6e778031de5c1ecf897c494d078">Terraria.ModLoader.NPCLoader.ModifyHitNPC</a></div><div class="ttdeci">static void ModifyHitNPC(NPC npc, NPC target, ref int damage, ref float knockback, ref bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00515">NPCLoader.cs:515</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a2e93b458e93b6de51dedfa5423ccf54d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a2e93b458e93b6de51dedfa5423ccf54d">Terraria.ModLoader.GlobalNPC.DrawBehind</a></div><div class="ttdeci">virtual void DrawBehind(NPC npc, int index)</div><div class="ttdoc">When used in conjunction with &quot;npc.hide = true&quot;, allows you to specify that this npc should be drawn ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00415">GlobalNPC.cs:415</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_n_p_c_html_ac460c107f521d532eb9b7612fc9afd20"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#ac460c107f521d532eb9b7612fc9afd20">Terraria.ModLoader.ModNPC.SpawnNPC</a></div><div class="ttdeci">virtual int SpawnNPC(int tileX, int tileY)</div><div class="ttdoc">Allows you to customize how this NPC is created when it naturally spawns (for example, its position or ai array). Return the return value of NPC.NewNPC. By default this method spawns this NPC on top of the tile at the given coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="_mod_n_p_c_8cs_source.html#l00566">ModNPC.cs:566</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a9410b2762d11538846575e7074584a55"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9410b2762d11538846575e7074584a55">Terraria.ModLoader.GlobalNPC.ModifyHitByItem</a></div><div class="ttdeci">virtual void ModifyHitByItem(NPC npc, Player player, Item item, ref int damage, ref float knockback, ref bool crit)</div><div class="ttdoc">Allows you to modify the damage, knockback, etc., that an NPC takes from a melee weapon. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00286">GlobalNPC.cs:286</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a845c65ddf34cc2b4074cc91af4088182"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a845c65ddf34cc2b4074cc91af4088182">Terraria.ModLoader.GlobalNPC.TownNPCAttackProjSpeed</a></div><div class="ttdeci">virtual void TownNPCAttackProjSpeed(NPC npc, ref float multiplier, ref float gravityCorrection, ref float randomOffset)</div><div class="ttdoc">Allows you to determine the speed at which a town NPC throws a projectile when it attacks...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00581">GlobalNPC.cs:581</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_n_p_c_html_a2b1a5b77ebd59ee8ca84f96505f6e2b0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a2b1a5b77ebd59ee8ca84f96505f6e2b0">Terraria.ModLoader.ModNPC.npc</a></div><div class="ttdeci">NPC npc</div><div class="ttdoc">The NPC object that this ModNPC controls. </div><div class="ttdef"><b>Definition:</b> <a href="_mod_n_p_c_8cs_source.html#l00021">ModNPC.cs:21</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae99a0287c3cb6ed7a048b20ef170c48b"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae99a0287c3cb6ed7a048b20ef170c48b">Terraria.ModLoader.NPCLoader.PreNPCLoot</a></div><div class="ttdeci">static bool PreNPCLoot(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00402">NPCLoader.cs:402</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa14b8d49a2b2ed8bab10728ff74b54bb"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa14b8d49a2b2ed8bab10728ff74b54bb">Terraria.ModLoader.NPCLoader.TownNPCAttackCooldown</a></div><div class="ttdeci">static void TownNPCAttackCooldown(NPC npc, ref int cooldown, ref int randExtraCooldown)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01029">NPCLoader.cs:1029</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a8ae2a74040d28656ddbd8648d8c1a539"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ae2a74040d28656ddbd8648d8c1a539">Terraria.ModLoader.NPCLoader.TownNPCAttackProjSpeed</a></div><div class="ttdeci">static void TownNPCAttackProjSpeed(NPC npc, ref float multiplier, ref float gravityCorrection, ref float randomOffset)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01052">NPCLoader.cs:1052</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_afc7c47edce64235c1ba8d3b2a27aac4d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc7c47edce64235c1ba8d3b2a27aac4d">Terraria.ModLoader.GlobalNPC.FindFrame</a></div><div class="ttdeci">virtual void FindFrame(NPC npc, int frameHeight)</div><div class="ttdoc">Allows you to modify the frame from an NPC&amp;#39;s texture that is drawn, which is necessary in order to an...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00132">GlobalNPC.cs:132</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a0ca2884d941cf304db0d6a9d27ca3328"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a0ca2884d941cf304db0d6a9d27ca3328">Terraria.ModLoader.NPCLoader.SpawnNPC</a></div><div class="ttdeci">static int SpawnNPC(int type, int tileX, int tileY)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00823">NPCLoader.cs:823</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ae8db68fb45a269cce3a91f750d8af2ee"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae8db68fb45a269cce3a91f750d8af2ee">Terraria.ModLoader.GlobalNPC.CanGoToStatue</a></div><div class="ttdeci">virtual bool CanGoToStatue(NPC npc, bool toKingStatue)</div><div class="ttdoc">Whether this NPC can be telported a King or Queen statue. Return true to allow the NPC to teleport to...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00526">GlobalNPC.cs:526</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5e30e8f6af971e9821243a3af23c38ca"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5e30e8f6af971e9821243a3af23c38ca">Terraria.ModLoader.GlobalNPC.OnHitPlayer</a></div><div class="ttdeci">virtual void OnHitPlayer(NPC npc, Player target, int damage, bool crit)</div><div class="ttdoc">Allows you to create special effects when an NPC hits a player (for example, inflicting debuffs)...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00231">GlobalNPC.cs:231</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ade37903ce666240ad83dbd7c8924abe2"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ade37903ce666240ad83dbd7c8924abe2">Terraria.ModLoader.NPCLoader.SetupShop</a></div><div class="ttdeci">static void SetupShop(int type, Chest shop, ref int nextSlot)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00942">NPCLoader.cs:942</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a78cc6cfde1d3aae79d01ded8aff5fddd"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a78cc6cfde1d3aae79d01ded8aff5fddd">Terraria.ModLoader.GlobalNPC.PostAI</a></div><div class="ttdeci">virtual void PostAI(NPC npc)</div><div class="ttdoc">Allows you to determine how any NPC behaves. This will be called regardless of what PreAI returns...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00124">GlobalNPC.cs:124</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ace0105b7dd87ff07bd2af18fe0e9ac18"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ace0105b7dd87ff07bd2af18fe0e9ac18">Terraria.ModLoader.GlobalNPC.DrawEffects</a></div><div class="ttdeci">virtual void DrawEffects(NPC npc, ref Color drawColor)</div><div class="ttdoc">Allows you to add special visual effects to an NPC (such as creating dust), and modify the color in w...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00387">GlobalNPC.cs:387</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a27c5e949870baf11ceee684e69e0a304"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a27c5e949870baf11ceee684e69e0a304">Terraria.ModLoader.NPCLoader.DrawTownAttackGun</a></div><div class="ttdeci">static void DrawTownAttackGun(NPC npc, ref float scale, ref int item, ref int closeness)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01097">NPCLoader.cs:1097</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a8a8948f57d8156ed7b13d760ffda0154"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a8a8948f57d8156ed7b13d760ffda0154">Terraria.ModLoader.GlobalNPC.CanBeHitByItem</a></div><div class="ttdeci">virtual bool CanBeHitByItem(NPC npc, Player player, Item item)</div><div class="ttdoc">Allows you to determine whether an NPC can be hit by the given melee weapon when swung. Return true to allow hitting the NPC, return false to block hitting the NPC, and return null to use the vanilla code for whether the NPC can be hit. Returns null by default. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00273">GlobalNPC.cs:273</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a9483fdc82dc3294e8f50191b1f1f1121"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9483fdc82dc3294e8f50191b1f1f1121">Terraria.ModLoader.GlobalNPC.CanBeHitByProjectile</a></div><div class="ttdeci">virtual bool CanBeHitByProjectile(NPC npc, Projectile projectile)</div><div class="ttdoc">Allows you to determine whether an NPC can be hit by the given projectile. Return true to allow hitti...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00307">GlobalNPC.cs:307</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ac590c152f83847b632be90a6e6a0cf80"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ac590c152f83847b632be90a6e6a0cf80">Terraria.ModLoader.NPCLoader.PreAI</a></div><div class="ttdeci">static bool PreAI(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00257">NPCLoader.cs:257</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_afccd6571f8464fa3b710b16fa7302f24"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#afccd6571f8464fa3b710b16fa7302f24">Terraria.ModLoader.NPCLoader.CanTownNPCSpawn</a></div><div class="ttdeci">static void CanTownNPCSpawn(int numTownNPCs, int money)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00835">NPCLoader.cs:835</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ad882275e53a018199f49a721a1f04a3d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad882275e53a018199f49a721a1f04a3d">Terraria.ModLoader.GlobalNPC.SetDefaults</a></div><div class="ttdeci">virtual void SetDefaults(NPC npc)</div><div class="ttdoc">Allows you to set the properties of any and every NPC that gets created. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00085">GlobalNPC.cs:85</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list_html_ad821edf97fe057d741076ccf017c7566"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#ad821edf97fe057d741076ccf017c7566">Terraria.ModLoader.NPCLoader.HookList.HookList</a></div><div class="ttdeci">HookList(MethodInfo method)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00041">NPCLoader.cs:41</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_buff_loader_html_a6abd801b6d315bf07c5a58018acc1019"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_buff_loader.html#a6abd801b6d315bf07c5a58018acc1019">Terraria.ModLoader.BuffLoader.BuffCount</a></div><div class="ttdeci">static int BuffCount</div><div class="ttdef"><b>Definition:</b> <a href="_buff_loader_8cs_source.html#l00072">BuffLoader.cs:72</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae1d6ca29ab669a88f4c742b39f03b7fe"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1d6ca29ab669a88f4c742b39f03b7fe">Terraria.ModLoader.NPCLoader.CanGoToStatue</a></div><div class="ttdeci">static bool CanGoToStatue(NPC npc, bool toKingStatue, bool vanillaCanGo)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00965">NPCLoader.cs:965</a></div></div>
<div class="ttc" id="namespace_terraria_1_1_mod_loader_html_a6da2ec2c957a412deb3c606b0f710f06a7d74f3b92b19da5e606d737d339a9679"><div class="ttname"><a href="namespace_terraria_1_1_mod_loader.html#a6da2ec2c957a412deb3c606b0f710f06a7d74f3b92b19da5e606d737d339a9679">Terraria.ModLoader.SoundType.Item</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a77de68f9e0a9fad85ae584dea1dea0db"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a77de68f9e0a9fad85ae584dea1dea0db">Terraria.ModLoader.NPCLoader.DrawEffects</a></div><div class="ttdeci">static void DrawEffects(NPC npc, ref Color drawColor)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00688">NPCLoader.cs:688</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ae5493040c8b14b6fcaff767eca894b67"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae5493040c8b14b6fcaff767eca894b67">Terraria.ModLoader.GlobalNPC.PreAI</a></div><div class="ttdeci">virtual bool PreAI(NPC npc)</div><div class="ttdoc">Allows you to determine how any NPC behaves. Return false to stop the vanilla AI and the AI hook from...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00109">GlobalNPC.cs:109</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a3d6763d0294a58197b0404d9af77d6f8"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a3d6763d0294a58197b0404d9af77d6f8">Terraria.ModLoader.NPCLoader.SendExtraAI</a></div><div class="ttdeci">static void SendExtraAI(NPC npc, BinaryWriter writer)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00288">NPCLoader.cs:288</a></div></div>
<div class="ttc" id="namespace_terraria_html"><div class="ttname"><a href="namespace_terraria.html">Terraria</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a48c4ea8449da01368c7af1924252e5f6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a48c4ea8449da01368c7af1924252e5f6">Terraria.ModLoader.GlobalNPC.BossHeadSlot</a></div><div class="ttdeci">virtual void BossHeadSlot(NPC npc, ref int index)</div><div class="ttdoc">Allows you to customize the boss head texture used by an NPC based on its state. Set index to -1 to s...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00353">GlobalNPC.cs:353</a></div></div>
<div class="ttc" id="class_binary_reader_html"><div class="ttname"><a href="class_binary_reader.html">BinaryReader</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a6803569c436f2938d5ac711920e706ec"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a6803569c436f2938d5ac711920e706ec">Terraria.ModLoader.GlobalNPC.CheckActive</a></div><div class="ttdeci">virtual bool CheckActive(NPC npc)</div><div class="ttdoc">Whether or not to run the code for checking whether an NPC will remain active. Return false to stop t...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00157">GlobalNPC.cs:157</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a866e9f26ad79ed221f9278ca65b39f9e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a866e9f26ad79ed221f9278ca65b39f9e">Terraria.ModLoader.NPCLoader.OnChatButtonClicked</a></div><div class="ttdeci">static void OnChatButtonClicked(bool firstButton)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00920">NPCLoader.cs:920</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html">Terraria.ModLoader.GlobalNPC</a></div><div class="ttdoc">This class allows you to modify and use hooks for all NPCs, including vanilla mobs. Create an instance of an overriding class then call Mod.AddGlobalNPC to use this. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00011">GlobalNPC.cs:11</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a526fc0a42931cb2713fab4d7bf9b11c2"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a526fc0a42931cb2713fab4d7bf9b11c2">Terraria.ModLoader.NPCLoader.CheckActive</a></div><div class="ttdeci">static bool CheckActive(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00358">NPCLoader.cs:358</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5a527b7768ad2c08ebd32acfad192a5f"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5a527b7768ad2c08ebd32acfad192a5f">Terraria.ModLoader.GlobalNPC.StrikeNPC</a></div><div class="ttdeci">virtual bool StrikeNPC(NPC npc, ref double damage, int defense, ref float knockback, int hitDirection, ref bool crit)</div><div class="ttdoc">Allows you to use a custom damage formula for when an NPC takes damage from any source. For example, you can change the way defense works or use a different crit multiplier. Return false to stop the game from running the vanilla damage formula; returns true by default. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00344">GlobalNPC.cs:344</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_aa0c7388db7dc4d7dd7d920e9cf55ce8a"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa0c7388db7dc4d7dd7d920e9cf55ce8a">Terraria.ModLoader.GlobalNPC.TownNPCAttackShoot</a></div><div class="ttdeci">virtual void TownNPCAttackShoot(NPC npc, ref bool inBetweenShots)</div><div class="ttdoc">Allows you to tell the game that a town NPC has already created a projectile and will still create mo...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00590">GlobalNPC.cs:590</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa3c1075b462bc4c9bccb800492ad1c18"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa3c1075b462bc4c9bccb800492ad1c18">Terraria.ModLoader.NPCLoader.EditSpawnRate</a></div><div class="ttdeci">static void EditSpawnRate(Player player, ref int spawnRate, ref int maxSpawns)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00770">NPCLoader.cs:770</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_acd76455796a9dff78a3f271e6fe435a3"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#acd76455796a9dff78a3f271e6fe435a3">Terraria.ModLoader.NPCLoader.HasMethod</a></div><div class="ttdeci">static bool HasMethod(Type t, string method, params Type[] args)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01116">NPCLoader.cs:1116</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a61c66fdcd67abe99b458d95c76996418"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a61c66fdcd67abe99b458d95c76996418">Terraria.ModLoader.NPCLoader.OnHitByProjectile</a></div><div class="ttdeci">static void OnHitByProjectile(NPC npc, Projectile projectile, int damage, float knockback, bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00616">NPCLoader.cs:616</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a07f0bdc4b1c6a49da42819a9ac9e94b3"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a07f0bdc4b1c6a49da42819a9ac9e94b3">Terraria.ModLoader.NPCLoader.CheckConditions</a></div><div class="ttdeci">static bool CheckConditions(int type)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00847">NPCLoader.cs:847</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa16baedc558a8f7156d20f4cefaf283d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa16baedc558a8f7156d20f4cefaf283d">Terraria.ModLoader.NPCLoader.BossHeadSlot</a></div><div class="ttdeci">static void BossHeadSlot(NPC npc, ref int index)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00643">NPCLoader.cs:643</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a1e9eae6ec444b4a23e1a809cfea3be94"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e9eae6ec444b4a23e1a809cfea3be94">Terraria.ModLoader.NPCLoader.GetNPC</a></div><div class="ttdeci">static ModNPC GetNPC(int type)</div><div class="ttdoc">Gets the ModNPC instance corresponding to the specified type. </div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00093">NPCLoader.cs:93</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a6343dfd19abadb436854449c9a67931a"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a6343dfd19abadb436854449c9a67931a">Terraria.ModLoader.NPCLoader.TownNPCAttackMagic</a></div><div class="ttdeci">static void TownNPCAttackMagic(NPC npc, ref float auraLightMultiplier)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01075">NPCLoader.cs:1075</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_afc85c885fbec3533348e87c8def9d886"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afc85c885fbec3533348e87c8def9d886">Terraria.ModLoader.GlobalNPC.HitEffect</a></div><div class="ttdeci">virtual void HitEffect(NPC npc, int hitDirection, double damage)</div><div class="ttdoc">Allows you to make things happen whenever an NPC is hit, such as creating dust or gores...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00141">GlobalNPC.cs:141</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a1622b410cb65da245e1d090d00615398"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1622b410cb65da245e1d090d00615398">Terraria.ModLoader.NPCLoader.TownNPCName</a></div><div class="ttdeci">static string TownNPCName(int type)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00851">NPCLoader.cs:851</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a864f48a10f6273f77c6a089b9baa8e4c"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a864f48a10f6273f77c6a089b9baa8e4c">Terraria.ModLoader.GlobalNPC.Instance</a></div><div class="ttdeci">GlobalNPC Instance(NPC npc)</div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_adc16e7b8d69586c145c4aedcb1fd4793"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#adc16e7b8d69586c145c4aedcb1fd4793">Terraria.ModLoader.GlobalNPC.DrawHealthBar</a></div><div class="ttdeci">virtual bool DrawHealthBar(NPC npc, byte hbPosition, ref float scale, ref Vector2 position)</div><div class="ttdoc">Allows you to control how the health bar for the given NPC is drawn. The hbPosition parameter is the ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00427">GlobalNPC.cs:427</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_html_a8206e4bf920a7562a972dcb7c9e2ef09"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod.html#a8206e4bf920a7562a972dcb7c9e2ef09">Terraria.ModLoader.Mod.Name</a></div><div class="ttdeci">virtual string Name</div><div class="ttdoc">Stores the name of the mod. This name serves as the mod&amp;#39;s identification, and also helps with saving ...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_8cs_source.html#l00042">Mod.cs:42</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html">Terraria.ModLoader.NPCLoader</a></div><div class="ttdoc">This serves as the central class from which NPC-related functions are carried out. It also stores a list of mod NPCs by ID. </div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00019">NPCLoader.cs:19</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a85e38f99d20e965819ec24fcfec3862f"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85e38f99d20e965819ec24fcfec3862f">Terraria.ModLoader.NPCLoader.FindFrame</a></div><div class="ttdeci">static void FindFrame(NPC npc, int frameHeight)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00320">NPCLoader.cs:320</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a7d9aaa94708b419047921ac38d569b2b"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a7d9aaa94708b419047921ac38d569b2b">Terraria.ModLoader.NPCLoader.OnHitNPC</a></div><div class="ttdeci">static void OnHitNPC(NPC npc, NPC target, int damage, float knockback, bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00525">NPCLoader.cs:525</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ae1e584c360c5e0b2f5e253ccc1ecf7b1"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ae1e584c360c5e0b2f5e253ccc1ecf7b1">Terraria.ModLoader.NPCLoader.UsesPartyHat</a></div><div class="ttdeci">static bool UsesPartyHat(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00855">NPCLoader.cs:855</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a17a1702387104df6ae41300e4b7bfb7c"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a17a1702387104df6ae41300e4b7bfb7c">Terraria.ModLoader.NPCLoader.GetChat</a></div><div class="ttdeci">static void GetChat(NPC npc, ref string chat)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00880">NPCLoader.cs:880</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_afcee386f81c0bd5f45acb274ccb9f17d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#afcee386f81c0bd5f45acb274ccb9f17d">Terraria.ModLoader.GlobalNPC.TownNPCAttackProj</a></div><div class="ttdeci">virtual void TownNPCAttackProj(NPC npc, ref int projType, ref int attackDelay)</div><div class="ttdoc">Allows you to determine the projectile type of a town NPC&amp;#39;s attack, and how long it takes for the pro...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00571">GlobalNPC.cs:571</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_buff_loader_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_buff_loader.html">Terraria.ModLoader.BuffLoader</a></div><div class="ttdoc">This serves as the central class from which buff-related functions are supported and carried out...</div><div class="ttdef"><b>Definition:</b> <a href="_buff_loader_8cs_source.html#l00014">BuffLoader.cs:14</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a92f1db23976a52d729126ade137063fc"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a92f1db23976a52d729126ade137063fc">Terraria.ModLoader.GlobalNPC.ModifyHitPlayer</a></div><div class="ttdeci">virtual void ModifyHitPlayer(NPC npc, Player target, ref int damage, ref bool crit)</div><div class="ttdoc">Allows you to modify the damage, etc., that an NPC does to a player. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00221">GlobalNPC.cs:221</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_af1d1909bbc2db39dc615a845be448b2e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af1d1909bbc2db39dc615a845be448b2e">Terraria.ModLoader.NPCLoader.OnGoToStatue</a></div><div class="ttdeci">static void OnGoToStatue(NPC npc, bool toKingStatue)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00983">NPCLoader.cs:983</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_n_p_c_html_a78b4fdd2fb59c1812e03568478be3757"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod_n_p_c.html#a78b4fdd2fb59c1812e03568478be3757">Terraria.ModLoader.ModNPC.CanTownNPCSpawn</a></div><div class="ttdeci">virtual bool CanTownNPCSpawn(int numTownNPCs, int money)</div><div class="ttdoc">Whether or not the conditions have been met for this town NPC to be able to move into town...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_n_p_c_8cs_source.html#l00576">ModNPC.cs:576</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list_html_a46347245ebf8275d5a5fa6159f83c1a4"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a46347245ebf8275d5a5fa6159f83c1a4">Terraria.ModLoader.NPCLoader.HookList.method</a></div><div class="ttdeci">readonly MethodInfo method</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00039">NPCLoader.cs:39</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a1c3d7a33153e964db6ca98da6d68e5b7"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1c3d7a33153e964db6ca98da6d68e5b7">Terraria.ModLoader.NPCLoader.CanBeHitByProjectile</a></div><div class="ttdeci">static bool CanBeHitByProjectile(NPC npc, Projectile projectile)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00580">NPCLoader.cs:580</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a63bf497418d5bbb5592355a2f44f31a5"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a63bf497418d5bbb5592355a2f44f31a5">Terraria.ModLoader.GlobalNPC.EditSpawnRate</a></div><div class="ttdeci">virtual void EditSpawnRate(Player player, ref int spawnRate, ref int maxSpawns)</div><div class="ttdoc">Allows you to modify the chance of NPCs spawning around the given player and the maximum number of NP...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00437">GlobalNPC.cs:437</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a8ebe0017ce5f3a56d716da86b0caa0d9"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8ebe0017ce5f3a56d716da86b0caa0d9">Terraria.ModLoader.NPCLoader.GetAlpha</a></div><div class="ttdeci">static Color GetAlpha(NPC npc, Color lightColor)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00675">NPCLoader.cs:675</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a2a4763be930564da32bf3a02f098c3fa"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a2a4763be930564da32bf3a02f098c3fa">Terraria.ModLoader.NPCLoader.SpecialNPCLoot</a></div><div class="ttdeci">static bool SpecialNPCLoot(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00388">NPCLoader.cs:388</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_af1732616b382d9e346a26763475188b0"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af1732616b382d9e346a26763475188b0">Terraria.ModLoader.GlobalNPC.EditSpawnPool</a></div><div class="ttdeci">virtual void EditSpawnPool(IDictionary&lt; int, float &gt; pool, NPCSpawnInfo spawnInfo)</div><div class="ttdoc">Allows you to control which NPCs can spawn and how likely each one is to spawn. The pool parameter ma...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00457">GlobalNPC.cs:457</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a618307b1f63fbfbfb1c5d7f6978837ac"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a618307b1f63fbfbfb1c5d7f6978837ac">Terraria.ModLoader.GlobalNPC.PreDraw</a></div><div class="ttdeci">virtual bool PreDraw(NPC npc, SpriteBatch spriteBatch, Color drawColor)</div><div class="ttdoc">Allows you to draw things behind an NPC, or to modify the way the NPC is drawn. Return false to stop ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00397">GlobalNPC.cs:397</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_mod_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_mod.html">Terraria.ModLoader.Mod</a></div><div class="ttdoc">Mod is an abstract class that you will override. It serves as a central place from which the mod&amp;#39;s co...</div><div class="ttdef"><b>Definition:</b> <a href="_mod_8cs_source.html#l00024">Mod.cs:24</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_af438166b9b820473beb22385ece2588e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af438166b9b820473beb22385ece2588e">Terraria.ModLoader.GlobalNPC.SpecialNPCLoot</a></div><div class="ttdeci">virtual bool SpecialNPCLoot(NPC npc)</div><div class="ttdoc">Allows you to call NPCLoot on your own when the NPC dies, rather then letting vanilla call it on its ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00174">GlobalNPC.cs:174</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa8defb6f044d35bbf75efa3f807d232c"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa8defb6f044d35bbf75efa3f807d232c">Terraria.ModLoader.NPCLoader.ModifyHitByItem</a></div><div class="ttdeci">static void ModifyHitByItem(NPC npc, Player player, Item item, ref int damage, ref float knockback, ref bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00560">NPCLoader.cs:560</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a207ea65f54c5246a125c069aabfaa231"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a207ea65f54c5246a125c069aabfaa231">Terraria.ModLoader.NPCLoader.CanChat</a></div><div class="ttdeci">static bool CanChat(NPC npc, bool vanillaCanChat)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00861">NPCLoader.cs:861</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a565173225e95b50d3da24188af7fb453"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a565173225e95b50d3da24188af7fb453">Terraria.ModLoader.NPCLoader.SetupTravelShop</a></div><div class="ttdeci">static void SetupTravelShop(int[] shop, ref int nextSlot)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00957">NPCLoader.cs:957</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list_html"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html">Terraria.ModLoader.NPCLoader.HookList</a></div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00036">NPCLoader.cs:36</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_aa291c000b1ac7614a7bec28e14d372f5"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa291c000b1ac7614a7bec28e14d372f5">Terraria.ModLoader.GlobalNPC.PreChatButtonClicked</a></div><div class="ttdeci">virtual bool PreChatButtonClicked(NPC npc, bool firstButton)</div><div class="ttdoc">Allows you to determine if something can happen whenever a button is clicked on this NPC&amp;#39;s chat windo...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00492">GlobalNPC.cs:492</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_add58c2912ac317a9df0026b450795544"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#add58c2912ac317a9df0026b450795544">Terraria.ModLoader.GlobalNPC.DrawTownAttackGun</a></div><div class="ttdeci">virtual void DrawTownAttackGun(NPC npc, ref float scale, ref int item, ref int closeness)</div><div class="ttdoc">Allows you to customize how a town NPC&amp;#39;s weapon is drawn when the NPC is shooting (the NPC must have ...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00617">GlobalNPC.cs:617</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list_html_a7405e0a667cba8a0b75ce2c3fe189235"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_1_1_hook_list.html#a7405e0a667cba8a0b75ce2c3fe189235">Terraria.ModLoader.NPCLoader.HookList.arr</a></div><div class="ttdeci">GlobalNPC[] arr</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00038">NPCLoader.cs:38</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a85673c0f0676fa158826ed94ebcce7e7"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a85673c0f0676fa158826ed94ebcce7e7">Terraria.ModLoader.NPCLoader.PreChatButtonClicked</a></div><div class="ttdeci">static bool PreChatButtonClicked(bool firstButton)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00901">NPCLoader.cs:901</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ae624b063ab6ddbaefdae0d2db8ecc5fa"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae624b063ab6ddbaefdae0d2db8ecc5fa">Terraria.ModLoader.GlobalNPC.NPCLoot</a></div><div class="ttdeci">virtual void NPCLoot(NPC npc)</div><div class="ttdoc">Allows you to make things happen when an NPC dies (for example, dropping items and setting ModWorld f...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00191">GlobalNPC.cs:191</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_aba82de7c491099bc5dfb1f2cc07d53f1"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aba82de7c491099bc5dfb1f2cc07d53f1">Terraria.ModLoader.GlobalNPC.GetAlpha</a></div><div class="ttdeci">virtual Color GetAlpha(NPC npc, Color drawColor)</div><div class="ttdoc">Allows you to determine the color and transparency in which an NPC is drawn. Return null to use the d...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00378">GlobalNPC.cs:378</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a068df531f0b46bcf56521532277bce2e"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a068df531f0b46bcf56521532277bce2e">Terraria.ModLoader.GlobalNPC.TownNPCAttackMagic</a></div><div class="ttdeci">virtual void TownNPCAttackMagic(NPC npc, ref float auraLightMultiplier)</div><div class="ttdoc">Allows you to control the brightness of the light emitted by a town NPC&amp;#39;s aura when it performs a mag...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00598">GlobalNPC.cs:598</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a8bfbaa607fa818ac9813a0d6a9103f49"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a8bfbaa607fa818ac9813a0d6a9103f49">Terraria.ModLoader.NPCLoader.SetChatButtons</a></div><div class="ttdeci">static void SetChatButtons(ref string button, ref string button2)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00892">NPCLoader.cs:892</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a0ebcb43077d038de14443397d26783bc"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a0ebcb43077d038de14443397d26783bc">Terraria.ModLoader.GlobalNPC.CanHitNPC</a></div><div class="ttdeci">virtual bool CanHitNPC(NPC npc, NPC target)</div><div class="ttdoc">Allows you to determine whether an NPC can hit the given friendly NPC. Return true to allow hitting t...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00240">GlobalNPC.cs:240</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a9e6919d7ab9acba00012daa148953854"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a9e6919d7ab9acba00012daa148953854">Terraria.ModLoader.GlobalNPC.PostDraw</a></div><div class="ttdeci">virtual void PostDraw(NPC npc, SpriteBatch spriteBatch, Color drawColor)</div><div class="ttdoc">Allows you to draw things in front of this NPC. This method is called even if PreDraw returns false...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00407">GlobalNPC.cs:407</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a7a9dc1f2fadc19db07e55dcb2f061aad"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a7a9dc1f2fadc19db07e55dcb2f061aad">Terraria.ModLoader.GlobalNPC.OnChatButtonClicked</a></div><div class="ttdeci">virtual void OnChatButtonClicked(NPC npc, bool firstButton)</div><div class="ttdoc">Allows you to make something happen whenever a button is clicked on this NPC&amp;#39;s chat window...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00501">GlobalNPC.cs:501</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_a5ef4cbdeffb9eed794a04b625d3099da"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#a5ef4cbdeffb9eed794a04b625d3099da">Terraria.ModLoader.GlobalNPC.TownNPCAttackSwing</a></div><div class="ttdeci">virtual void TownNPCAttackSwing(NPC npc, ref int itemWidth, ref int itemHeight)</div><div class="ttdoc">Allows you to determine the width and height of the item a town NPC swings when it attacks...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00607">GlobalNPC.cs:607</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_aa78b6d2dc1f37317d4faefafaf4637d6"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#aa78b6d2dc1f37317d4faefafaf4637d6">Terraria.ModLoader.GlobalNPC.BossHeadSpriteEffects</a></div><div class="ttdeci">virtual void BossHeadSpriteEffects(NPC npc, ref SpriteEffects spriteEffects)</div><div class="ttdoc">Allows you to flip an NPC&amp;#39;s boss head icon on the map. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00369">GlobalNPC.cs:369</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aa4a8ad93d313bdbbb54ab5ca7bdfb25f"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aa4a8ad93d313bdbbb54ab5ca7bdfb25f">Terraria.ModLoader.NPCLoader.NPCLoader</a></div><div class="ttdeci">static NPCLoader()</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00054">NPCLoader.cs:54</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_af66dfb83f743ca52c0f113b250235705"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#af66dfb83f743ca52c0f113b250235705">Terraria.ModLoader.NPCLoader.ModifyHitPlayer</a></div><div class="ttdeci">static void ModifyHitPlayer(NPC npc, Player target, ref int damage, ref bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00469">NPCLoader.cs:469</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ae178ad8f9523b2f87b63220607a982f8"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ae178ad8f9523b2f87b63220607a982f8">Terraria.ModLoader.GlobalNPC.OnGoToStatue</a></div><div class="ttdeci">virtual void OnGoToStatue(NPC npc, bool toKingStatue)</div><div class="ttdoc">Allows you to make things happen when this NPC teleports to a King or Queen statue. This method is only called server side. </div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00536">GlobalNPC.cs:536</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a34f627c957c08c92fd787ff56ba8a24c"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a34f627c957c08c92fd787ff56ba8a24c">Terraria.ModLoader.NPCLoader.ResetEffects</a></div><div class="ttdeci">static void ResetEffects(NPC npc)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00231">NPCLoader.cs:231</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a1e838a02e4cd1a933273df53c53b76c7"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a1e838a02e4cd1a933273df53c53b76c7">Terraria.ModLoader.NPCLoader.TownNPCAttackStrength</a></div><div class="ttdeci">static void TownNPCAttackStrength(NPC npc, ref int damage, ref float knockback)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l01018">NPCLoader.cs:1018</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_aecd6e6cc37c287e1d477db243364b0b9"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#aecd6e6cc37c287e1d477db243364b0b9">Terraria.ModLoader.NPCLoader.EditSpawnRange</a></div><div class="ttdeci">static void EditSpawnRange(Player player, ref int spawnRangeX, ref int spawnRangeY, ref int safeRangeX, ref int safeRangeY)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00780">NPCLoader.cs:780</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_af76afb7606070f4db75a72fa6b2f4edd"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#af76afb7606070f4db75a72fa6b2f4edd">Terraria.ModLoader.GlobalNPC.TownNPCAttackCooldown</a></div><div class="ttdeci">virtual void TownNPCAttackCooldown(NPC npc, ref int cooldown, ref int randExtraCooldown)</div><div class="ttdoc">Allows you to determine the cooldown between each of a town NPC&amp;#39;s attack. The cooldown will be a numb...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00562">GlobalNPC.cs:562</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a01c50764c4fa018c26aa42cefa52fdf7"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a01c50764c4fa018c26aa42cefa52fdf7">Terraria.ModLoader.NPCLoader.DrawHealthBar</a></div><div class="ttdeci">static void DrawHealthBar(NPC npc, Vector2 position, float scale)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00762">NPCLoader.cs:762</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_global_n_p_c_html_ad6815d7134a83a69d25be338163ad6fb"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_global_n_p_c.html#ad6815d7134a83a69d25be338163ad6fb">Terraria.ModLoader.GlobalNPC.BuffTownNPC</a></div><div class="ttdeci">virtual void BuffTownNPC(ref float damageMult, ref int defense)</div><div class="ttdoc">Allows you to modify the stats of town NPCs. Useful for buffing town NPCs when certain bosses are def...</div><div class="ttdef"><b>Definition:</b> <a href="_global_n_p_c_8cs_source.html#l00544">GlobalNPC.cs:544</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_a63b2cd7eeb45cf94841081141a22290d"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#a63b2cd7eeb45cf94841081141a22290d">Terraria.ModLoader.NPCLoader.CanHitPlayer</a></div><div class="ttdeci">static bool CanHitPlayer(NPC npc, Player target, ref int cooldownSlot)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00454">NPCLoader.cs:454</a></div></div>
<div class="ttc" id="class_terraria_1_1_mod_loader_1_1_n_p_c_loader_html_ab55085f950db102685cc71455da3de22"><div class="ttname"><a href="class_terraria_1_1_mod_loader_1_1_n_p_c_loader.html#ab55085f950db102685cc71455da3de22">Terraria.ModLoader.NPCLoader.OnHitPlayer</a></div><div class="ttdeci">static void OnHitPlayer(NPC npc, Player target, int damage, bool crit)</div><div class="ttdef"><b>Definition:</b> <a href="_n_p_c_loader_8cs_source.html#l00479">NPCLoader.cs:479</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2dee0249ca1c6e98736e679cc6a5269.html">patches</a></li><li class="navelem"><a class="el" href="dir_33550c180f9cedd6db1017f362610614.html">tModLoader</a></li><li class="navelem"><a class="el" href="dir_563615b9ae08cf63712a5de713529dc7.html">Terraria.ModLoader</a></li><li class="navelem"><a class="el" href="_n_p_c_loader_8cs.html">NPCLoader.cs</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
